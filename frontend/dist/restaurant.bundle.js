!function(n){var r={};function e(t){if(r[t])return r[t].exports;var i=r[t]={i:t,l:!1,exports:{}};return n[t].call(i.exports,i,i.exports,e),i.l=!0,i.exports}e.m=n,e.c=r,e.d=function(n,r,t){e.o(n,r)||Object.defineProperty(n,r,{enumerable:!0,get:t})},e.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},e.t=function(n,r){if(1&r&&(n=e(n)),8&r)return n;if(4&r&&"object"==typeof n&&n&&n.__esModule)return n;var t=Object.create(null);if(e.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:n}),2&r&&"string"!=typeof n)for(var i in n)e.d(t,i,function(r){return n[r]}.bind(null,i));return t},e.n=function(n){var r=n&&n.__esModule?function(){return n.default}:function(){return n};return e.d(r,"a",r),r},e.o=function(n,r){return Object.prototype.hasOwnProperty.call(n,r)},e.p="",e(e.s=10)}([function(n,r,e){"use strict";e.d(r,"a",function(){return t});class t{static get DATABASE_URL(){return"http://localhost:1337/restaurants"}static fetchRestaurants(n){let r=new XMLHttpRequest;r.open("GET",t.DATABASE_URL),r.onload=(()=>{if(200===r.status){console.log(r);const e=JSON.parse(r.responseText);n(null,e)}else{const e=`Request failed. Returned status of ${r.status}`;n(e,null)}}),r.send()}static fetchRestaurantById(n,r){t.fetchRestaurants((e,t)=>{if(e)r(e,null);else{const e=t.find(r=>r.id==n);e?r(null,e):r("Restaurant does not exist",null)}})}static fetchRestaurantByCuisine(n,r){t.fetchRestaurants((e,t)=>{if(e)r(e,null);else{const e=t.filter(r=>r.cuisine_type==n);r(null,e)}})}static fetchRestaurantByNeighborhood(n,r){t.fetchRestaurants((e,t)=>{if(e)r(e,null);else{const e=t.filter(r=>r.neighborhood==n);r(null,e)}})}static fetchRestaurantByCuisineAndNeighborhood(n,r,e){t.fetchRestaurants((t,i)=>{if(t)e(t,null);else{let t=i;"all"!=n&&(t=t.filter(r=>r.cuisine_type==n)),"all"!=r&&(t=t.filter(n=>n.neighborhood==r)),e(null,t)}})}static fetchNeighborhoods(n){t.fetchRestaurants((r,e)=>{if(r)n(r,null);else{const r=e.map((n,r)=>e[r].neighborhood),t=r.filter((n,e)=>r.indexOf(n)==e);n(null,t)}})}static fetchCuisines(n){t.fetchRestaurants((r,e)=>{if(r)n(r,null);else{const r=e.map((n,r)=>e[r].cuisine_type),t=r.filter((n,e)=>r.indexOf(n)==e);n(null,t)}})}static urlForRestaurant(n){return`./restaurant.html?id=${n.id}`}static imageUrlForRestaurant(n){return`/img/${n.photograph}.jpg`}static mapMarkerForRestaurant(n,r){return new google.maps.Marker({position:n.latlng,title:n.name,url:t.urlForRestaurant(n),map:r,animation:google.maps.Animation.DROP})}}},function(n,r,e){"use strict";e.d(r,"a",function(){return t});e(7);function t(){"serviceWorker"in navigator&&window.addEventListener("load",function(){navigator.serviceWorker.register("/sw.js").then(function(n){console.log("Service Worker file registration successful!",n)},function(n){console.log("Service Worker failed: ",n)})})}},function(n,r){var e="__googleMapsApiOnLoadCallback",t=["channel","client","key","language","region","v"],i=null;n.exports=function(n){return n=n||{},i||(i=new Promise(function(r,i){var o=setTimeout(function(){window[e]=function(){},i(new Error("Could not load the Google Maps API"))},n.timeout||1e4);window[e]=function(){null!==o&&clearTimeout(o),r(window.google.maps),delete window[e]};var a=document.createElement("script"),s=["callback="+e];t.forEach(function(r){n[r]&&s.push(r+"="+n[r])}),n.libraries&&n.libraries.length&&s.push("libraries="+n.libraries.join(",")),a.src="https://maps.googleapis.com/maps/api/js?"+s.join("&"),document.body.appendChild(a)})),i}},function(n,r){n.exports=function(n){var r="undefined"!=typeof window&&window.location;if(!r)throw new Error("fixUrls requires window.location");if(!n||"string"!=typeof n)return n;var e=r.protocol+"//"+r.host,t=e+r.pathname.replace(/\/[^\/]*$/,"/");return n.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(n,r){var i,o=r.trim().replace(/^"(.*)"$/,function(n,r){return r}).replace(/^'(.*)'$/,function(n,r){return r});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(o)?n:(i=0===o.indexOf("//")?o:0===o.indexOf("/")?e+o:t+o.replace(/^\.\//,""),"url("+JSON.stringify(i)+")")})}},function(n,r,e){var t,i,o={},a=(t=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===i&&(i=t.apply(this,arguments)),i}),s=function(n){var r={};return function(n){if("function"==typeof n)return n();if(void 0===r[n]){var e=function(n){return document.querySelector(n)}.call(this,n);if(window.HTMLIFrameElement&&e instanceof window.HTMLIFrameElement)try{e=e.contentDocument.head}catch(n){e=null}r[n]=e}return r[n]}}(),l=null,c=0,d=[],u=e(3);function f(n,r){for(var e=0;e<n.length;e++){var t=n[e],i=o[t.id];if(i){i.refs++;for(var a=0;a<i.parts.length;a++)i.parts[a](t.parts[a]);for(;a<t.parts.length;a++)i.parts.push(x(t.parts[a],r))}else{var s=[];for(a=0;a<t.parts.length;a++)s.push(x(t.parts[a],r));o[t.id]={id:t.id,refs:1,parts:s}}}}function p(n,r){for(var e=[],t={},i=0;i<n.length;i++){var o=n[i],a=r.base?o[0]+r.base:o[0],s={css:o[1],media:o[2],sourceMap:o[3]};t[a]?t[a].parts.push(s):e.push(t[a]={id:a,parts:[s]})}return e}function h(n,r){var e=s(n.insertInto);if(!e)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var t=d[d.length-1];if("top"===n.insertAt)t?t.nextSibling?e.insertBefore(r,t.nextSibling):e.appendChild(r):e.insertBefore(r,e.firstChild),d.push(r);else if("bottom"===n.insertAt)e.appendChild(r);else{if("object"!=typeof n.insertAt||!n.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var i=s(n.insertInto+" "+n.insertAt.before);e.insertBefore(r,i)}}function m(n){if(null===n.parentNode)return!1;n.parentNode.removeChild(n);var r=d.indexOf(n);r>=0&&d.splice(r,1)}function g(n){var r=document.createElement("style");return void 0===n.attrs.type&&(n.attrs.type="text/css"),b(r,n.attrs),h(n,r),r}function b(n,r){Object.keys(r).forEach(function(e){n.setAttribute(e,r[e])})}function x(n,r){var e,t,i,o;if(r.transform&&n.css){if(!(o=r.transform(n.css)))return function(){};n.css=o}if(r.singleton){var a=c++;e=l||(l=g(r)),t=y.bind(null,e,a,!1),i=y.bind(null,e,a,!0)}else n.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(e=function(n){var r=document.createElement("link");return void 0===n.attrs.type&&(n.attrs.type="text/css"),n.attrs.rel="stylesheet",b(r,n.attrs),h(n,r),r}(r),t=function(n,r,e){var t=e.css,i=e.sourceMap,o=void 0===r.convertToAbsoluteUrls&&i;(r.convertToAbsoluteUrls||o)&&(t=u(t));i&&(t+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var a=new Blob([t],{type:"text/css"}),s=n.href;n.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}.bind(null,e,r),i=function(){m(e),e.href&&URL.revokeObjectURL(e.href)}):(e=g(r),t=function(n,r){var e=r.css,t=r.media;t&&n.setAttribute("media",t);if(n.styleSheet)n.styleSheet.cssText=e;else{for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(document.createTextNode(e))}}.bind(null,e),i=function(){m(e)});return t(n),function(r){if(r){if(r.css===n.css&&r.media===n.media&&r.sourceMap===n.sourceMap)return;t(n=r)}else i()}}n.exports=function(n,r){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(r=r||{}).attrs="object"==typeof r.attrs?r.attrs:{},r.singleton||"boolean"==typeof r.singleton||(r.singleton=a()),r.insertInto||(r.insertInto="head"),r.insertAt||(r.insertAt="bottom");var e=p(n,r);return f(e,r),function(n){for(var t=[],i=0;i<e.length;i++){var a=e[i];(s=o[a.id]).refs--,t.push(s)}n&&f(p(n,r),r);for(i=0;i<t.length;i++){var s;if(0===(s=t[i]).refs){for(var l=0;l<s.parts.length;l++)s.parts[l]();delete o[s.id]}}}};var w,v=(w=[],function(n,r){return w[n]=r,w.filter(Boolean).join("\n")});function y(n,r,e,t){var i=e?"":t.css;if(n.styleSheet)n.styleSheet.cssText=v(r,i);else{var o=document.createTextNode(i),a=n.childNodes;a[r]&&n.removeChild(a[r]),a.length?n.insertBefore(o,a[r]):n.appendChild(o)}}},function(n,r){n.exports=function(n){var r=[];return r.toString=function(){return this.map(function(r){var e=function(n,r){var e=n[1]||"",t=n[3];if(!t)return e;if(r&&"function"==typeof btoa){var i=(a=t,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */"),o=t.sources.map(function(n){return"/*# sourceURL="+t.sourceRoot+n+" */"});return[e].concat(o).concat([i]).join("\n")}var a;return[e].join("\n")}(r,n);return r[2]?"@media "+r[2]+"{"+e+"}":e}).join("")},r.i=function(n,e){"string"==typeof n&&(n=[[null,n,""]]);for(var t={},i=0;i<this.length;i++){var o=this[i][0];"number"==typeof o&&(t[o]=!0)}for(i=0;i<n.length;i++){var a=n[i];"number"==typeof a[0]&&t[a[0]]||(e&&!a[2]?a[2]=e:e&&(a[2]="("+a[2]+") and ("+e+")"),r.push(a))}},r}},function(n,r,e){(n.exports=e(5)(!1)).push([n.i,'@charset "utf-8";\r\n/* CSS Document */\r\n\r\nbody,\r\ntd,\r\nth,\r\np {\r\n  font-family: Arial, Helvetica, sans-serif;\r\n  font-size: 12px;\r\n  color: black;\r\n  line-height: 1.5;\r\n}\r\n\r\nhtml {\r\n  box-sizing: border-box;\r\n}\r\n\r\n*,\r\n*::before,\r\n*::after {\r\n  box-sizing: inherit;\r\n}\r\n\r\nbody {\r\n  background-color: #f3f3f3;\r\n  margin: 0 auto;\r\n  min-height: 100vh;\r\n}\r\n\r\nul,\r\nli {\r\n  font-family: Arial, Helvetica, sans-serif;\r\n  font-size: 1em;\r\n  color: #333;\r\n}\r\n\r\na {\r\n  color: #811410;\r\n  text-decoration: none;\r\n}\r\n\r\na:hover,\r\na:focus {\r\n  color: #811410;\r\n  text-decoration: none;\r\n}\r\n\r\na img {\r\n  border: none 0px #fff;\r\n}\r\n\r\nh1,\r\nh2,\r\nh3,\r\nh4,\r\nh5,\r\nh6 {\r\n  font-family: Arial, Helvetica, sans-serif;\r\n  margin: 0 0 20px;\r\n}\r\n\r\narticle,\r\naside,\r\ncanvas,\r\ndetails,\r\nfigcaption,\r\nfigure,\r\nfooter,\r\nheader,\r\nhgroup,\r\nmenu,\r\nnav,\r\nsection {\r\n  display: block;\r\n}\r\n\r\ncaption {\n  font-size: 1.7em;\n  text-align: left;\n  font-weight: 700;\n  text-align: center;\n}\r\n\r\nstrong {\r\n  color: white;\r\n}\r\n\r\n#maincontent {\r\n  background-color: #f3f3f3;\r\n  min-height: 100vh;\r\n  width: 100%;\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  max-width: 1400px;\r\n  margin: 0 auto;\r\n}\r\n\r\n#footer {\r\n  background-color: black;\r\n  color: #fff;\r\n  font-size: 8pt;\r\n  letter-spacing: 1px;\r\n  text-align: center;\r\n  text-transform: uppercase;\r\n  padding-top: 25px;\r\n  padding-bottom: 25px;\r\n}\r\n/* ====================== Navigation ====================== */\r\nnav {\r\n  display: block;\r\n  width: 100%;\r\n  height: 80px;\r\n  background-color: black;\r\n  text-align: center;\r\n}\r\n\r\nnav h1 {\r\n  margin: auto;\r\n}\r\n\r\nnav h1 a {\r\n  color: #fff;\r\n  font-size: 16px;\r\n  font-weight: 200;\r\n  letter-spacing: 10px;\r\n  text-transform: uppercase;\r\n}\r\n\r\n#breadcrumb {\r\n  padding: 10px 40px 16px;\r\n  list-style: none;\r\n  background-color: #fff;\r\n  font-size: 17px;\r\n  margin: 0;\r\n  text-align: center;\r\n}\r\n\r\n/* Display list items side by side */\r\n#breadcrumb li {\r\n  display: inline;\r\n}\r\n\r\n/* Add a slash symbol (/) before/behind each list item */\r\n#breadcrumb li + li:before {\r\n  padding: 8px;\r\n  color: black;\r\n  content: "/\\A0";\r\n}\r\n\r\n/* Add a color to all links inside the list */\r\n#breadcrumb li a {\r\n  color: #0275d8;\r\n  text-decoration: none;\r\n}\r\n\r\n/* Add a color on mouse-over */\r\n#breadcrumb li a:hover {\r\n  color: #01447e;\r\n  text-decoration: underline;\r\n}\r\n\r\n/* ====================== Map ====================== */\r\n#map {\r\n  height: 50vh;\r\n  width: 100%;\r\n  background-color: #ccc;\r\n}\r\n\r\n/* ====================== Restaurant Filtering ====================== */\r\n.filter-options {\r\n  width: 100%;\r\n  align-items: center;\r\n  padding-top: 1em;\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n}\r\n\r\n.filter-options h2 {\r\n  color: black;\r\n  font-size: 1rem;\r\n  font-weight: normal;\r\n  line-height: 1;\r\n  margin: 5px 10px;\r\n  font-size: 2em;\r\n  width: 100%;\r\n}\r\n\r\n.filter-options select {\r\n  background-color: white;\r\n  border: 1px solid #fff;\r\n  font-family: Arial, sans-serif;\r\n  font-size: 1.1em;\r\n  height: 35px;\r\n  letter-spacing: 0;\r\n  margin: 10px;\r\n  padding: 0px 10px;\r\n  width: calc(100% - 20px);\r\n}\r\n\r\n/* ====================== Restaurant Listing ====================== */\r\n#restaurants-list {\r\n  background-color: #f3f3f3;\r\n  list-style: outside none none;\r\n  margin: 0;\r\n  padding-left: 0;\r\n  text-align: center;\r\n  width: 100%;\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n}\r\n\r\n#restaurants-list li {\r\n  display: flex;\r\n  background-color: #fff;\r\n  border: 2px solid #ccc;\r\n  font-family: Arial, sans-serif;\r\n  min-height: 380px;\r\n  text-align: left;\r\n  width: 100%;\r\n  margin: 1em;\r\n  flex-direction: column;\r\n}\r\n\r\n#restaurants-list .restaurant-img {\r\n  background-color: #ccc;\r\n  display: block;\r\n  margin: 0;\r\n  max-width: 100%;\r\n  min-height: 248px;\r\n  min-width: 100%;\r\n}\r\n\r\n#restaurants-list li h1 {\r\n  color: #811410;\r\n  font-family: Arial, sans-serif;\r\n  font-size: 2em;\r\n  font-weight: 200;\r\n  letter-spacing: 0;\r\n  line-height: 1.3;\r\n  margin: 20px 0 10px;\r\n  text-transform: uppercase;\r\n  order: 1;\r\n}\r\n\r\n#restaurants-list p {\r\n  order: 2;\r\n  margin: 0;\r\n  font-size: 1.5em;\r\n  color: black;\r\n}\r\n\r\n/* ====================== Restaurant Details ====================== */\r\n.inside header {\r\n  position: fixed;\r\n  top: 0;\r\n  width: 100%;\r\n  z-index: 1000;\r\n}\r\n\r\n#map-container {\r\n  display: block;\r\n  background: blue none repeat scroll 0 0;\r\n  order: 0;\r\n  max-height: 70vh;\r\n  overflow: hidden;\r\n}\r\n\r\n.inside #map-container {\r\n  margin-top: 80px;\r\n}\r\n\r\n.inside #map {\r\n  background-color: #ccc;\r\n  height: 400px;\r\n  width: 100%;\r\n}\r\n\r\n.inside #footer {\r\n  width: 100%;\r\n}\r\n\r\n#restaurant-name {\r\n  color: #811410;\r\n  font-family: Arial, sans-serif;\r\n  font-size: 2.5em;\r\n  font-weight: 200;\r\n  letter-spacing: 2px;\r\n  text-transform: uppercase;\r\n  line-height: 1.1;\r\n  text-align: center;\r\n  margin-bottom: 10px;\r\n  margin-top: 10px;\r\n  width: 100%;\r\n}\r\n\r\n#restaurant-img {\r\n  width: 100%;\r\n}\r\n\r\n#restaurant-address {\r\n  font-size: 1.7em;\r\n  margin: 1em 1em;\r\n  text-align: center;\r\n}\r\n\r\n#restaurant-cuisine {\r\n  background-color: black;\r\n  color: #ddd;\r\n  font-size: 1.5em;\r\n  font-weight: 300;\r\n  letter-spacing: 10px;\r\n  margin: 0;\r\n  padding: 2px 0;\r\n  text-align: center;\r\n  text-transform: uppercase;\r\n  width: 100%;\r\n}\r\n\r\n#restaurant-container {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n}\r\n\r\n#restaurant-container,\r\n#reviews-container {\r\n  border-bottom: 1px solid #d9d9d9;\r\n  border-top: 1px solid #fff;\r\n  width: 100%;\r\n  order: 1;\r\n}\r\n\r\n.restaurant-info-container {\r\n  width: 100%;\r\n  background-color: #333;\r\n  max-height: 100%;\r\n}\r\n\r\n.restaurant-hours-container {\r\n  width: 100%;\r\n  max-height: 100%;\r\n}\r\n\r\n#reviews-container {\r\n  width: 100%;\r\n}\r\n\r\n#reviews-container h3 {\r\n  color: #811410;\r\n  font-size: 2em;\r\n  font-weight: 300;\r\n  letter-spacing: 2px;\r\n  text-align: center;\r\n  margin: 10px 0px;\r\n}\r\n\r\n#reviews-list {\r\n  margin: 0;\r\n  padding-left: 0;\r\n  padding-right: 0;\r\n}\r\n\r\n#reviews-list li {\r\n  background-color: #fff;\r\n  border: 2px solid #f3f3f3;\r\n  display: block;\r\n  list-style-type: none;\r\n  width: 100%;\r\n  padding-top: 2em;\r\n  padding-bottom: 2em;\r\n  color: black;\r\n}\r\n\r\n#reviews-list li p {\r\n  margin: 5px 0px;\r\n  padding-left: 2em;\r\n  padding-right: 2em;\r\n  font-size: 1.4em;\r\n}\r\n\r\n#restaurant-hours td,\r\n#restaurant-hours th {\n  color: #666;\n  font-size: 1.5em;\n  vertical-align: text-top;\n  border-bottom: 1px solid black;\n  text-align: center;\n}\r\n\r\n#restaurant-hours th {\n  color: black;\n  text-align: center;\n}\r\n\r\n#restaurant-hours tr {\r\n  padding-top: 5px;\r\n  padding-bottom: 5px;\r\n}\r\n\r\nh1.logo-header {\r\n  padding: 1em;\r\n}\r\n\r\nul#restaurants-list section {\r\n  padding: 1em;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: stretch;\r\n}\r\n\r\ntable#restaurant-hours {\r\n  width: 90%;\r\n  border-collapse: collapse;\r\n  margin: auto;\r\n}\r\n\r\nsection#map-container {\r\n  width: 100%;\r\n}\r\n\r\nsection#review-container {\r\n  width: 100%;\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n}\r\n\r\n#restaurants-list button {\r\n  flex-shrink: 0;\r\n  height: 3em;\r\n  width: 100%;\r\n  background-color: #811410;\r\n  order: 0;\r\n  color: #fff;\r\n  font-size: 1.2em;\r\n  text-align: center;\r\n  text-transform: uppercase;\r\n}\r\n\r\n.filter-options div {\r\n  width: 100%;\r\n}\r\n\r\n.filter-options label {\r\n  display: block;\r\n  width: 100%;\r\n  padding: 0 10px;\r\n  font-size: 1.4em;\r\n  color: black;\r\n}\r\n\r\nh2.filter-header {\r\n  text-align: center;\r\n}\r\n\r\n/* @media screen and (min-width: 320px) {\r\n} */\r\n\r\n@media screen and (min-width: 768px) {\r\n  /* styles for index.html */\r\n  #restaurants-list li {\r\n    width: calc(50% - 2em);\r\n  }\r\n  /* styles for restaurant.html */\r\n  .restaurant-info-container {\r\n    width: calc(100% / 3 * 2);\r\n    border: 1px solid black;\r\n  }\r\n\r\n  .restaurant-hours-container {\r\n    width: calc(100% / 3);\r\n    border: 1px solid black;\r\n    background-color: white;\r\n  }\r\n\r\n  #restaurant-hours td {\r\n    font-size: 1.1em;\r\n  }\r\n\r\n  .filter-options div {\r\n    width: 50%;\r\n  }\r\n}\r\n\r\n@media screen and (min-width: 1024px) {\r\n  /* styles for index.html */\r\n  #restaurants-list li {\r\n    width: calc(100% / 4 - 2em);\r\n  }\r\n\r\n  section#map-container {\r\n    width: 100%;\r\n    order: 0;\r\n  }\r\n  section#review-container {\r\n    order: 2;\r\n  }\r\n  section.filter-options {\r\n    width: 100%;\r\n    order: 1;\r\n  }\r\n\r\n  .filter-options label {\r\n    font-size: 1.7em;\r\n  }\r\n\r\n  .filter-options select {\r\n    font-size: 1.3em;\r\n  }\r\n\r\n  #restaurants-list {\r\n    width: 100%;\r\n  }\r\n\r\n  /* styles for restaurant.html */\r\n  #restaurant-address {\r\n    font-size: 2.8em;\r\n  }\r\n  #restaurant-hours td {\r\n    font-size: 1.5em;\r\n  }\r\n}\r\n',""])},function(n,r,e){var t=e(6);"string"==typeof t&&(t=[[n.i,t,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};e(4)(t,i);t.locals&&(n.exports=t.locals)},,,function(n,r,e){"use strict";e.r(r);var t=e(0),i=e(1),o=e(2),a=e.n(o);Object(i.a)(),window.initMap=(()=>{!function(n){if(self.restaurant)return void n(null,self.restaurant);const r=function(n,r){r||(r=window.location.href);n=n.replace(/[\[\]]/g,"\\$&");const e=new RegExp(`[?&]${n}(=([^&#]*)|&|#|$)`).exec(r);return e?e[2]?decodeURIComponent(e[2].replace(/\+/g," ")):"":null}("id");r?t.a.fetchRestaurantById(r,(r,e)=>{self.restaurant=e,e?(!function(n=self.restaurant){document.getElementById("restaurant-name").innerHTML=n.name,document.getElementById("restaurant-address").innerHTML=n.address;const r=document.getElementById("restaurant-img");r.className="restaurant-img",r.setAttribute("alt",n.name),r.src=t.a.imageUrlForRestaurant(n),document.getElementById("restaurant-cuisine").innerHTML=n.cuisine_type,n.operating_hours&&function(n=self.restaurant.operating_hours){const r=document.getElementById("restaurant-hours");for(let e in n){const t=document.createElement("tr"),i=document.createElement("td");i.innerHTML=e,t.appendChild(i);const o=document.createElement("td");let a=n[e];a=a.replace(",",", \n <br /> \n"),o.innerHTML=a,t.appendChild(o),r.appendChild(t)}}();!function(n=self.restaurant.reviews){const r=document.getElementById("reviews-container"),e=document.createElement("h3");if(e.innerHTML="Reviews",r.appendChild(e),!n){const n=document.createElement("p");return n.innerHTML="No reviews yet!",void r.appendChild(n)}const t=document.getElementById("reviews-list");n.forEach(n=>{t.appendChild(function(n){const r=document.createElement("li"),e=document.createElement("p");e.innerHTML=n.name,r.appendChild(e);const t=document.createElement("p");t.innerHTML=n.date,r.appendChild(t);const i=document.createElement("p");i.innerHTML=`Rating: ${n.rating}`,r.appendChild(i);const o=document.createElement("p");return o.innerHTML=n.comments,r.appendChild(o),r}(n))}),r.appendChild(t)}()}(),n(null,e)):console.error(r)}):(error="No restaurant id in URL",n(error,null))}((n,r)=>{n?console.error(n):(self.map=new google.maps.Map(document.getElementById("map"),{zoom:16,center:r.latlng,scrollwheel:!1}),function(n=self.restaurant){const r=document.getElementById("breadcrumb"),e=document.createElement("li");e.setAttribute("aria-current","page"),e.innerHTML=n.name,r.appendChild(e)}(),t.a.mapMarkerForRestaurant(self.restaurant,self.map))})}),a()({key:"AIzaSyDEHTLqQlbIc4-odc2DnMiEF2uF3arBz4s"}).then(()=>{window.initMap()})}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL2RiaGVscGVyLmpzIiwid2VicGFjazovLy8uL3NyYy9qcy9hbGwuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xvYWQtZ29vZ2xlLW1hcHMtYXBpL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvbGliL3VybHMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9saWIvYWRkU3R5bGVzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2xpYi9jc3MtYmFzZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY3NzL3N0eWxlcy5jc3MiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Nzcy9zdHlsZXMuY3NzPzdmOTQiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL3Jlc3RhdXJhbnRfaW5mby5qcyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsIkRCSGVscGVyIiwiREFUQUJBU0VfVVJMIiwiW29iamVjdCBPYmplY3RdIiwiY2FsbGJhY2siLCJ4aHIiLCJYTUxIdHRwUmVxdWVzdCIsIm9wZW4iLCJvbmxvYWQiLCJzdGF0dXMiLCJjb25zb2xlIiwibG9nIiwianNvbiIsIkpTT04iLCJwYXJzZSIsInJlc3BvbnNlVGV4dCIsImVycm9yIiwic2VuZCIsImlkIiwiZmV0Y2hSZXN0YXVyYW50cyIsInJlc3RhdXJhbnRzIiwicmVzdGF1cmFudCIsImZpbmQiLCJjdWlzaW5lIiwicmVzdWx0cyIsImZpbHRlciIsImN1aXNpbmVfdHlwZSIsIm5laWdoYm9yaG9vZCIsIm5laWdoYm9yaG9vZHMiLCJtYXAiLCJ2IiwidW5pcXVlTmVpZ2hib3Job29kcyIsImluZGV4T2YiLCJjdWlzaW5lcyIsInVuaXF1ZUN1aXNpbmVzIiwicGhvdG9ncmFwaCIsImdvb2dsZSIsIm1hcHMiLCJNYXJrZXIiLCJwb3NpdGlvbiIsImxhdGxuZyIsInRpdGxlIiwidXJsIiwidXJsRm9yUmVzdGF1cmFudCIsImFuaW1hdGlvbiIsIkFuaW1hdGlvbiIsIkRST1AiLCJUcnlTZXJ2aWNlV29ya2VyIiwibmF2aWdhdG9yIiwid2luZG93IiwiYWRkRXZlbnRMaXN0ZW5lciIsInNlcnZpY2VXb3JrZXIiLCJyZWdpc3RlciIsInRoZW4iLCJyZWdpc3RyYXRpb24iLCJlcnIiLCJDQUxMQkFDS19OQU1FIiwiT1BUSU9OU19LRVlTIiwicHJvbWlzZSIsIm9wdGlvbnMiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsInRpbWVvdXRJZCIsInNldFRpbWVvdXQiLCJFcnJvciIsInRpbWVvdXQiLCJjbGVhclRpbWVvdXQiLCJzY3JpcHRFbGVtZW50IiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwicGFyYW1zIiwiZm9yRWFjaCIsInB1c2giLCJsaWJyYXJpZXMiLCJsZW5ndGgiLCJqb2luIiwic3JjIiwiYm9keSIsImFwcGVuZENoaWxkIiwiY3NzIiwibG9jYXRpb24iLCJiYXNlVXJsIiwicHJvdG9jb2wiLCJob3N0IiwiY3VycmVudERpciIsInBhdGhuYW1lIiwicmVwbGFjZSIsImZ1bGxNYXRjaCIsIm9yaWdVcmwiLCJuZXdVcmwiLCJ1bnF1b3RlZE9yaWdVcmwiLCJ0cmltIiwiJDEiLCJ0ZXN0Iiwic3RyaW5naWZ5IiwiZm4iLCJtZW1vIiwic3R5bGVzSW5Eb20iLCJpc09sZElFIiwiYWxsIiwiYXRvYiIsImFwcGx5IiwidGhpcyIsImFyZ3VtZW50cyIsImdldEVsZW1lbnQiLCJ0YXJnZXQiLCJzdHlsZVRhcmdldCIsInF1ZXJ5U2VsZWN0b3IiLCJIVE1MSUZyYW1lRWxlbWVudCIsImNvbnRlbnREb2N1bWVudCIsImhlYWQiLCJlIiwic2luZ2xldG9uIiwic2luZ2xldG9uQ291bnRlciIsInN0eWxlc0luc2VydGVkQXRUb3AiLCJmaXhVcmxzIiwiYWRkU3R5bGVzVG9Eb20iLCJzdHlsZXMiLCJpdGVtIiwiZG9tU3R5bGUiLCJyZWZzIiwiaiIsInBhcnRzIiwiYWRkU3R5bGUiLCJsaXN0VG9TdHlsZXMiLCJsaXN0IiwibmV3U3R5bGVzIiwiYmFzZSIsInBhcnQiLCJtZWRpYSIsInNvdXJjZU1hcCIsImluc2VydFN0eWxlRWxlbWVudCIsInN0eWxlIiwiaW5zZXJ0SW50byIsImxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wIiwiaW5zZXJ0QXQiLCJuZXh0U2libGluZyIsImluc2VydEJlZm9yZSIsImZpcnN0Q2hpbGQiLCJiZWZvcmUiLCJyZW1vdmVTdHlsZUVsZW1lbnQiLCJwYXJlbnROb2RlIiwicmVtb3ZlQ2hpbGQiLCJpZHgiLCJzcGxpY2UiLCJjcmVhdGVTdHlsZUVsZW1lbnQiLCJ1bmRlZmluZWQiLCJhdHRycyIsInR5cGUiLCJhZGRBdHRycyIsImVsIiwia2V5cyIsInNldEF0dHJpYnV0ZSIsIm9iaiIsInVwZGF0ZSIsInJlbW92ZSIsInJlc3VsdCIsInRyYW5zZm9ybSIsInN0eWxlSW5kZXgiLCJhcHBseVRvU2luZ2xldG9uVGFnIiwiVVJMIiwiY3JlYXRlT2JqZWN0VVJMIiwicmV2b2tlT2JqZWN0VVJMIiwiQmxvYiIsImJ0b2EiLCJsaW5rIiwicmVsIiwiY3JlYXRlTGlua0VsZW1lbnQiLCJhdXRvRml4VXJscyIsImNvbnZlcnRUb0Fic29sdXRlVXJscyIsInVuZXNjYXBlIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiYmxvYiIsIm9sZFNyYyIsImhyZWYiLCJzdHlsZVNoZWV0IiwiY3NzVGV4dCIsImNyZWF0ZVRleHROb2RlIiwibmV3T2JqIiwiREVCVUciLCJuZXdMaXN0IiwibWF5UmVtb3ZlIiwidGV4dFN0b3JlIiwicmVwbGFjZVRleHQiLCJpbmRleCIsInJlcGxhY2VtZW50IiwiQm9vbGVhbiIsImNzc05vZGUiLCJjaGlsZE5vZGVzIiwidXNlU291cmNlTWFwIiwidG9TdHJpbmciLCJjb250ZW50IiwiY3NzTWFwcGluZyIsInNvdXJjZU1hcHBpbmciLCJzb3VyY2VVUkxzIiwic291cmNlcyIsInNvdXJjZSIsInNvdXJjZVJvb3QiLCJjb25jYXQiLCJjc3NXaXRoTWFwcGluZ1RvU3RyaW5nIiwibWVkaWFRdWVyeSIsImFscmVhZHlJbXBvcnRlZE1vZHVsZXMiLCJobXIiLCJsb2NhbHMiLCJfYWxsX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18iLCJpbml0TWFwIiwic2VsZiIsIlJlZ0V4cCIsImV4ZWMiLCJkZWNvZGVVUklDb21wb25lbnQiLCJnZXRQYXJhbWV0ZXJCeU5hbWUiLCJfZGJoZWxwZXJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyIsImZldGNoUmVzdGF1cmFudEJ5SWQiLCJnZXRFbGVtZW50QnlJZCIsImlubmVySFRNTCIsImFkZHJlc3MiLCJpbWFnZSIsImNsYXNzTmFtZSIsImltYWdlVXJsRm9yUmVzdGF1cmFudCIsIm9wZXJhdGluZ19ob3VycyIsIm9wZXJhdGluZ0hvdXJzIiwiaG91cnMiLCJyb3ciLCJkYXkiLCJ0aW1lIiwib3BIb3VycyIsImZpbGxSZXN0YXVyYW50SG91cnNIVE1MIiwicmV2aWV3cyIsImNvbnRhaW5lciIsIm5vUmV2aWV3cyIsInVsIiwicmV2aWV3IiwibGkiLCJkYXRlIiwicmF0aW5nIiwiY29tbWVudHMiLCJjcmVhdGVSZXZpZXdIVE1MIiwiZmlsbFJldmlld3NIVE1MIiwiZmlsbFJlc3RhdXJhbnRIVE1MIiwiZmV0Y2hSZXN0YXVyYW50RnJvbVVSTCIsIk1hcCIsInpvb20iLCJjZW50ZXIiLCJzY3JvbGx3aGVlbCIsImJyZWFkY3J1bWIiLCJmaWxsQnJlYWRjcnVtYiIsIm1hcE1hcmtlckZvclJlc3RhdXJhbnQiLCJsb2FkX2dvb2dsZV9tYXBzX2FwaV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fX2RlZmF1bHQiXSwibWFwcGluZ3MiOiJhQUNBLElBQUFBLEtBR0EsU0FBQUMsRUFBQUMsR0FHQSxHQUFBRixFQUFBRSxHQUNBLE9BQUFGLEVBQUFFLEdBQUFDLFFBR0EsSUFBQUMsRUFBQUosRUFBQUUsSUFDQUcsRUFBQUgsRUFDQUksR0FBQSxFQUNBSCxZQVVBLE9BTkFJLEVBQUFMLEdBQUFNLEtBQUFKLEVBQUFELFFBQUFDLElBQUFELFFBQUFGLEdBR0FHLEVBQUFFLEdBQUEsRUFHQUYsRUFBQUQsUUFLQUYsRUFBQVEsRUFBQUYsRUFHQU4sRUFBQVMsRUFBQVYsRUFHQUMsRUFBQVUsRUFBQSxTQUFBUixFQUFBUyxFQUFBQyxHQUNBWixFQUFBYSxFQUFBWCxFQUFBUyxJQUNBRyxPQUFBQyxlQUFBYixFQUFBUyxHQUEwQ0ssWUFBQSxFQUFBQyxJQUFBTCxLQUsxQ1osRUFBQWtCLEVBQUEsU0FBQWhCLEdBQ0Esb0JBQUFpQixlQUFBQyxhQUNBTixPQUFBQyxlQUFBYixFQUFBaUIsT0FBQUMsYUFBd0RDLE1BQUEsV0FFeERQLE9BQUFDLGVBQUFiLEVBQUEsY0FBaURtQixPQUFBLEtBUWpEckIsRUFBQXNCLEVBQUEsU0FBQUQsRUFBQUUsR0FFQSxHQURBLEVBQUFBLElBQUFGLEVBQUFyQixFQUFBcUIsSUFDQSxFQUFBRSxFQUFBLE9BQUFGLEVBQ0EsS0FBQUUsR0FBQSxpQkFBQUYsUUFBQUcsV0FBQSxPQUFBSCxFQUNBLElBQUFJLEVBQUFYLE9BQUFZLE9BQUEsTUFHQSxHQUZBMUIsRUFBQWtCLEVBQUFPLEdBQ0FYLE9BQUFDLGVBQUFVLEVBQUEsV0FBeUNULFlBQUEsRUFBQUssVUFDekMsRUFBQUUsR0FBQSxpQkFB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TCxFQUVBTixRQUFBTSxVQUVBK0wsS0FBQWxMLElBQUEsSUFBQU8sT0FBQUMsS0FBQTRNLElBQUE1SyxTQUFBaUosZUFBQSxRQUNBNEIsS0FBQSxHQUNBQyxPQUFBOU4sRUFBQW1CLE9BQ0E0TSxhQUFBLElBcUlBLFNBQUEvTixFQUFBMEwsS0FBQTFMLFlBQ0EsTUFBQWdPLEVBQUFoTCxTQUFBaUosZUFBQSxjQUNBbUIsRUFBQXBLLFNBQUFDLGNBQUEsTUFDQW1LLEVBQUFoRixhQUFBLHVCQUNBZ0YsRUFBQWxCLFVBQUFsTSxFQUFBN0MsS0FDQTZRLEVBQUF0SyxZQUFBMEosR0F4SUFhLEdBQ0FsQyxFQUFBLEVBQUFtQyx1QkFBQXhDLEtBQUExTCxXQUFBMEwsS0FBQWxMLFVBMkpBMk4sS0FBbUJoUSxJQUFBLDRDQUFpRDZELEtBQ3BFLEtBQ0FKLE9BQUE2SiIsImZpbGUiOiJyZXN0YXVyYW50LmJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAxMCk7XG4iLCIndXNlIHN0cmljdCc7XG4vKipcbiAqIENvbW1vbiBkYXRhYmFzZSBoZWxwZXIgZnVuY3Rpb25zLlxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBEQkhlbHBlciB7XG5cdC8qKlxuXHQgKiBEYXRhYmFzZSBVUkwuXG5cdCAqIENoYW5nZSB0aGlzIHRvIHJlc3RhdXJhbnRzLmpzb24gZmlsZSBsb2NhdGlvbiBvbiB5b3VyIHNlcnZlci5cblx0ICovXG5cdHN0YXRpYyBnZXQgREFUQUJBU0VfVVJMKCkge1xuXHRcdGNvbnN0IHBvcnQgPSAxMzM3OyAvLyBDaGFuZ2UgdGhpcyB0byB5b3VyIHNlcnZlciBwb3J0XG5cdFx0cmV0dXJuIGBodHRwOi8vbG9jYWxob3N0OiR7cG9ydH0vcmVzdGF1cmFudHNgO1xuXHR9XG5cdC8qKlxuXHQgKiBGZXRjaCBhbGwgcmVzdGF1cmFudHMuXG5cdCAqL1xuXHRzdGF0aWMgZmV0Y2hSZXN0YXVyYW50cyhjYWxsYmFjaykge1xuXHRcdGxldCB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcblx0XHR4aHIub3BlbignR0VUJywgREJIZWxwZXIuREFUQUJBU0VfVVJMKTtcblx0XHR4aHIub25sb2FkID0gKCkgPT4ge1xuXHRcdFx0aWYgKHhoci5zdGF0dXMgPT09IDIwMCkge1xuXHRcdFx0XHQvLyBHb3QgYSBzdWNjZXNzIHJlc3BvbnNlIGZyb20gc2VydmVyIVxuXHRcdFx0XHRjb25zb2xlLmxvZyh4aHIpO1xuXHRcdFx0XHRjb25zdCBqc29uID0gSlNPTi5wYXJzZSh4aHIucmVzcG9uc2VUZXh0KTtcblx0XHRcdFx0Y29uc3QgcmVzdGF1cmFudHMgPSBqc29uO1xuXHRcdFx0XHRjYWxsYmFjayhudWxsLCByZXN0YXVyYW50cyk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHQvLyBPb3BzIS4gR290IGFuIGVycm9yIGZyb20gc2VydmVyLlxuXHRcdFx0XHRjb25zdCBlcnJvciA9IGBSZXF1ZXN0IGZhaWxlZC4gUmV0dXJuZWQgc3RhdHVzIG9mICR7eGhyLnN0YXR1c31gO1xuXHRcdFx0XHRjYWxsYmFjayhlcnJvciwgbnVsbCk7XG5cdFx0XHR9XG5cdFx0fTtcblx0XHR4aHIuc2VuZCgpO1xuXHR9XG5cblx0LyoqXG5cdCAqIEZldGNoIGEgcmVzdGF1cmFudCBieSBpdHMgSUQuXG5cdCAqL1xuXHRzdGF0aWMgZmV0Y2hSZXN0YXVyYW50QnlJZChpZCwgY2FsbGJhY2spIHtcblx0XHQvLyBmZXRjaCBhbGwgcmVzdGF1cmFudHMgd2l0aCBwcm9wZXIgZXJyb3IgaGFuZGxpbmcuXG5cdFx0REJIZWxwZXIuZmV0Y2hSZXN0YXVyYW50cygoZXJyb3IsIHJlc3RhdXJhbnRzKSA9PiB7XG5cdFx0XHRpZiAoZXJyb3IpIHtcblx0XHRcdFx0Y2FsbGJhY2soZXJyb3IsIG51bGwpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Y29uc3QgcmVzdGF1cmFudCA9IHJlc3RhdXJhbnRzLmZpbmQociA9PiByLmlkID09IGlkKTtcblx0XHRcdFx0aWYgKHJlc3RhdXJhbnQpIHtcblx0XHRcdFx0XHQvLyBHb3QgdGhlIHJlc3RhdXJhbnRcblx0XHRcdFx0XHRjYWxsYmFjayhudWxsLCByZXN0YXVyYW50KTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHQvLyBSZXN0YXVyYW50IGRvZXMgbm90IGV4aXN0IGluIHRoZSBkYXRhYmFzZVxuXHRcdFx0XHRcdGNhbGxiYWNrKCdSZXN0YXVyYW50IGRvZXMgbm90IGV4aXN0JywgbnVsbCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9KTtcblx0fVxuXG5cdC8qKlxuXHQgKiBGZXRjaCByZXN0YXVyYW50cyBieSBhIGN1aXNpbmUgdHlwZSB3aXRoIHByb3BlciBlcnJvciBoYW5kbGluZy5cblx0ICovXG5cdHN0YXRpYyBmZXRjaFJlc3RhdXJhbnRCeUN1aXNpbmUoY3Vpc2luZSwgY2FsbGJhY2spIHtcblx0XHQvLyBGZXRjaCBhbGwgcmVzdGF1cmFudHMgIHdpdGggcHJvcGVyIGVycm9yIGhhbmRsaW5nXG5cdFx0REJIZWxwZXIuZmV0Y2hSZXN0YXVyYW50cygoZXJyb3IsIHJlc3RhdXJhbnRzKSA9PiB7XG5cdFx0XHRpZiAoZXJyb3IpIHtcblx0XHRcdFx0Y2FsbGJhY2soZXJyb3IsIG51bGwpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Ly8gRmlsdGVyIHJlc3RhdXJhbnRzIHRvIGhhdmUgb25seSBnaXZlbiBjdWlzaW5lIHR5cGVcblx0XHRcdFx0Y29uc3QgcmVzdWx0cyA9IHJlc3RhdXJhbnRzLmZpbHRlcihyID0+IHIuY3Vpc2luZV90eXBlID09IGN1aXNpbmUpO1xuXHRcdFx0XHRjYWxsYmFjayhudWxsLCByZXN1bHRzKTtcblx0XHRcdH1cblx0XHR9KTtcblx0fVxuXG5cdC8qKlxuXHQgKiBGZXRjaCByZXN0YXVyYW50cyBieSBhIG5laWdoYm9yaG9vZCB3aXRoIHByb3BlciBlcnJvciBoYW5kbGluZy5cblx0ICovXG5cdHN0YXRpYyBmZXRjaFJlc3RhdXJhbnRCeU5laWdoYm9yaG9vZChuZWlnaGJvcmhvb2QsIGNhbGxiYWNrKSB7XG5cdFx0Ly8gRmV0Y2ggYWxsIHJlc3RhdXJhbnRzXG5cdFx0REJIZWxwZXIuZmV0Y2hSZXN0YXVyYW50cygoZXJyb3IsIHJlc3RhdXJhbnRzKSA9PiB7XG5cdFx0XHRpZiAoZXJyb3IpIHtcblx0XHRcdFx0Y2FsbGJhY2soZXJyb3IsIG51bGwpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Ly8gRmlsdGVyIHJlc3RhdXJhbnRzIHRvIGhhdmUgb25seSBnaXZlbiBuZWlnaGJvcmhvb2Rcblx0XHRcdFx0Y29uc3QgcmVzdWx0cyA9IHJlc3RhdXJhbnRzLmZpbHRlcihyID0+IHIubmVpZ2hib3Job29kID09IG5laWdoYm9yaG9vZCk7XG5cdFx0XHRcdGNhbGxiYWNrKG51bGwsIHJlc3VsdHMpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9XG5cblx0LyoqXG5cdCAqIEZldGNoIHJlc3RhdXJhbnRzIGJ5IGEgY3Vpc2luZSBhbmQgYSBuZWlnaGJvcmhvb2Qgd2l0aCBwcm9wZXIgZXJyb3IgaGFuZGxpbmcuXG5cdCAqL1xuXHRzdGF0aWMgZmV0Y2hSZXN0YXVyYW50QnlDdWlzaW5lQW5kTmVpZ2hib3Job29kKFxuXHRcdGN1aXNpbmUsXG5cdFx0bmVpZ2hib3Job29kLFxuXHRcdGNhbGxiYWNrXG5cdCkge1xuXHRcdC8vIEZldGNoIGFsbCByZXN0YXVyYW50c1xuXHRcdERCSGVscGVyLmZldGNoUmVzdGF1cmFudHMoKGVycm9yLCByZXN0YXVyYW50cykgPT4ge1xuXHRcdFx0aWYgKGVycm9yKSB7XG5cdFx0XHRcdGNhbGxiYWNrKGVycm9yLCBudWxsKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGxldCByZXN1bHRzID0gcmVzdGF1cmFudHM7XG5cdFx0XHRcdGlmIChjdWlzaW5lICE9ICdhbGwnKSB7XG5cdFx0XHRcdFx0Ly8gZmlsdGVyIGJ5IGN1aXNpbmVcblx0XHRcdFx0XHRyZXN1bHRzID0gcmVzdWx0cy5maWx0ZXIociA9PiByLmN1aXNpbmVfdHlwZSA9PSBjdWlzaW5lKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAobmVpZ2hib3Job29kICE9ICdhbGwnKSB7XG5cdFx0XHRcdFx0Ly8gZmlsdGVyIGJ5IG5laWdoYm9yaG9vZFxuXHRcdFx0XHRcdHJlc3VsdHMgPSByZXN1bHRzLmZpbHRlcihyID0+IHIubmVpZ2hib3Job29kID09IG5laWdoYm9yaG9vZCk7XG5cdFx0XHRcdH1cblx0XHRcdFx0Y2FsbGJhY2sobnVsbCwgcmVzdWx0cyk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH1cblxuXHQvKipcblx0ICogRmV0Y2ggYWxsIG5laWdoYm9yaG9vZHMgd2l0aCBwcm9wZXIgZXJyb3IgaGFuZGxpbmcuXG5cdCAqL1xuXHRzdGF0aWMgZmV0Y2hOZWlnaGJvcmhvb2RzKGNhbGxiYWNrKSB7XG5cdFx0Ly8gRmV0Y2ggYWxsIHJlc3RhdXJhbnRzXG5cdFx0REJIZWxwZXIuZmV0Y2hSZXN0YXVyYW50cygoZXJyb3IsIHJlc3RhdXJhbnRzKSA9PiB7XG5cdFx0XHRpZiAoZXJyb3IpIHtcblx0XHRcdFx0Y2FsbGJhY2soZXJyb3IsIG51bGwpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Ly8gR2V0IGFsbCBuZWlnaGJvcmhvb2RzIGZyb20gYWxsIHJlc3RhdXJhbnRzXG5cdFx0XHRcdGNvbnN0IG5laWdoYm9yaG9vZHMgPSByZXN0YXVyYW50cy5tYXAoXG5cdFx0XHRcdFx0KHYsIGkpID0+IHJlc3RhdXJhbnRzW2ldLm5laWdoYm9yaG9vZFxuXHRcdFx0XHQpO1xuXHRcdFx0XHQvLyBSZW1vdmUgZHVwbGljYXRlcyBmcm9tIG5laWdoYm9yaG9vZHNcblx0XHRcdFx0Y29uc3QgdW5pcXVlTmVpZ2hib3Job29kcyA9IG5laWdoYm9yaG9vZHMuZmlsdGVyKFxuXHRcdFx0XHRcdCh2LCBpKSA9PiBuZWlnaGJvcmhvb2RzLmluZGV4T2YodikgPT0gaVxuXHRcdFx0XHQpO1xuXHRcdFx0XHRjYWxsYmFjayhudWxsLCB1bmlxdWVOZWlnaGJvcmhvb2RzKTtcblx0XHRcdH1cblx0XHR9KTtcblx0fVxuXG5cdC8qKlxuXHQgKiBGZXRjaCBhbGwgY3Vpc2luZXMgd2l0aCBwcm9wZXIgZXJyb3IgaGFuZGxpbmcuXG5cdCAqL1xuXHRzdGF0aWMgZmV0Y2hDdWlzaW5lcyhjYWxsYmFjaykge1xuXHRcdC8vIEZldGNoIGFsbCByZXN0YXVyYW50c1xuXHRcdERCSGVscGVyLmZldGNoUmVzdGF1cmFudHMoKGVycm9yLCByZXN0YXVyYW50cykgPT4ge1xuXHRcdFx0aWYgKGVycm9yKSB7XG5cdFx0XHRcdGNhbGxiYWNrKGVycm9yLCBudWxsKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdC8vIEdldCBhbGwgY3Vpc2luZXMgZnJvbSBhbGwgcmVzdGF1cmFudHNcblx0XHRcdFx0Y29uc3QgY3Vpc2luZXMgPSByZXN0YXVyYW50cy5tYXAoKHYsIGkpID0+IHJlc3RhdXJhbnRzW2ldLmN1aXNpbmVfdHlwZSk7XG5cdFx0XHRcdC8vIFJlbW92ZSBkdXBsaWNhdGVzIGZyb20gY3Vpc2luZXNcblx0XHRcdFx0Y29uc3QgdW5pcXVlQ3Vpc2luZXMgPSBjdWlzaW5lcy5maWx0ZXIoXG5cdFx0XHRcdFx0KHYsIGkpID0+IGN1aXNpbmVzLmluZGV4T2YodikgPT0gaVxuXHRcdFx0XHQpO1xuXHRcdFx0XHRjYWxsYmFjayhudWxsLCB1bmlxdWVDdWlzaW5lcyk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH1cblxuXHQvKipcblx0ICogUmVzdGF1cmFudCBwYWdlIFVSTC5cblx0ICovXG5cdHN0YXRpYyB1cmxGb3JSZXN0YXVyYW50KHJlc3RhdXJhbnQpIHtcblx0XHRyZXR1cm4gYC4vcmVzdGF1cmFudC5odG1sP2lkPSR7cmVzdGF1cmFudC5pZH1gO1xuXHR9XG5cblx0LyoqXG5cdCAqIFJlc3RhdXJhbnQgaW1hZ2UgVVJMLlxuXHQgKi9cblx0c3RhdGljIGltYWdlVXJsRm9yUmVzdGF1cmFudChyZXN0YXVyYW50KSB7XG5cdFx0cmV0dXJuIGAvaW1nLyR7cmVzdGF1cmFudC5waG90b2dyYXBofS5qcGdgO1xuXHR9XG5cblx0LyoqXG5cdCAqIE1hcCBtYXJrZXIgZm9yIGEgcmVzdGF1cmFudC5cblx0ICovXG5cdHN0YXRpYyBtYXBNYXJrZXJGb3JSZXN0YXVyYW50KHJlc3RhdXJhbnQsIG1hcCkge1xuXHRcdGNvbnN0IG1hcmtlciA9IG5ldyBnb29nbGUubWFwcy5NYXJrZXIoe1xuXHRcdFx0cG9zaXRpb246IHJlc3RhdXJhbnQubGF0bG5nLFxuXHRcdFx0dGl0bGU6IHJlc3RhdXJhbnQubmFtZSxcblx0XHRcdHVybDogREJIZWxwZXIudXJsRm9yUmVzdGF1cmFudChyZXN0YXVyYW50KSxcblx0XHRcdG1hcDogbWFwLFxuXHRcdFx0YW5pbWF0aW9uOiBnb29nbGUubWFwcy5BbmltYXRpb24uRFJPUFxuXHRcdH0pO1xuXHRcdHJldHVybiBtYXJrZXI7XG5cdH1cbn1cbiIsImltcG9ydCAnLi4vY3NzL3N0eWxlcy5jc3MnO1xuXG4vKioqXG4gKiBSZWdpc3RlciBTZXJ2aWNlIHdvcmtlciBpZiBhdmFsaWFibGUgaW4gYnJvd3NlclxuICoqL1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBUcnlTZXJ2aWNlV29ya2VyKCkge1xuXHRpZiAoJ3NlcnZpY2VXb3JrZXInIGluIG5hdmlnYXRvcikge1xuXHRcdHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgZnVuY3Rpb24oKSB7XG5cdFx0XHRuYXZpZ2F0b3Iuc2VydmljZVdvcmtlci5yZWdpc3RlcignL3N3LmpzJykudGhlbihcblx0XHRcdFx0ZnVuY3Rpb24ocmVnaXN0cmF0aW9uKSB7XG5cdFx0XHRcdFx0Y29uc29sZS5sb2coXG5cdFx0XHRcdFx0XHQnU2VydmljZSBXb3JrZXIgZmlsZSByZWdpc3RyYXRpb24gc3VjY2Vzc2Z1bCEnLFxuXHRcdFx0XHRcdFx0cmVnaXN0cmF0aW9uXG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0fSxcblx0XHRcdFx0ZnVuY3Rpb24oZXJyKSB7XG5cdFx0XHRcdFx0Y29uc29sZS5sb2coJ1NlcnZpY2UgV29ya2VyIGZhaWxlZDogJywgZXJyKTtcblx0XHRcdFx0fVxuXHRcdFx0KTtcblx0XHR9KTtcblx0fVxufVxuIiwidmFyIENBTExCQUNLX05BTUUgPSAnX19nb29nbGVNYXBzQXBpT25Mb2FkQ2FsbGJhY2snXG5cbnZhciBPUFRJT05TX0tFWVMgPSBbJ2NoYW5uZWwnLCAnY2xpZW50JywgJ2tleScsICdsYW5ndWFnZScsICdyZWdpb24nLCAndiddXG5cbnZhciBwcm9taXNlID0gbnVsbFxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9XG5cbiAgaWYgKCFwcm9taXNlKSB7XG4gICAgcHJvbWlzZSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIC8vIFJlamVjdCB0aGUgcHJvbWlzZSBhZnRlciBhIHRpbWVvdXRcbiAgICAgIHZhciB0aW1lb3V0SWQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgd2luZG93W0NBTExCQUNLX05BTUVdID0gZnVuY3Rpb24gKCkge30gLy8gU2V0IHRoZSBvbiBsb2FkIGNhbGxiYWNrIHRvIGEgbm8tb3BcbiAgICAgICAgcmVqZWN0KG5ldyBFcnJvcignQ291bGQgbm90IGxvYWQgdGhlIEdvb2dsZSBNYXBzIEFQSScpKVxuICAgICAgfSwgb3B0aW9ucy50aW1lb3V0IHx8IDEwMDAwKVxuXG4gICAgICAvLyBIb29rIHVwIHRoZSBvbiBsb2FkIGNhbGxiYWNrXG4gICAgICB3aW5kb3dbQ0FMTEJBQ0tfTkFNRV0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aW1lb3V0SWQgIT09IG51bGwpIHtcbiAgICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dElkKVxuICAgICAgICB9XG4gICAgICAgIHJlc29sdmUod2luZG93Lmdvb2dsZS5tYXBzKVxuICAgICAgICBkZWxldGUgd2luZG93W0NBTExCQUNLX05BTUVdXG4gICAgICB9XG5cbiAgICAgIC8vIFByZXBhcmUgdGhlIGBzY3JpcHRgIHRhZyB0byBiZSBpbnNlcnRlZCBpbnRvIHRoZSBwYWdlXG4gICAgICB2YXIgc2NyaXB0RWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpXG4gICAgICB2YXIgcGFyYW1zID0gWydjYWxsYmFjaz0nICsgQ0FMTEJBQ0tfTkFNRV1cbiAgICAgIE9QVElPTlNfS0VZUy5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgaWYgKG9wdGlvbnNba2V5XSkge1xuICAgICAgICAgIHBhcmFtcy5wdXNoKGtleSArICc9JyArIG9wdGlvbnNba2V5XSlcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICAgIGlmIChvcHRpb25zLmxpYnJhcmllcyAmJiBvcHRpb25zLmxpYnJhcmllcy5sZW5ndGgpIHtcbiAgICAgICAgcGFyYW1zLnB1c2goJ2xpYnJhcmllcz0nICsgb3B0aW9ucy5saWJyYXJpZXMuam9pbignLCcpKVxuICAgICAgfVxuICAgICAgc2NyaXB0RWxlbWVudC5zcmMgPVxuICAgICAgICAnaHR0cHM6Ly9tYXBzLmdvb2dsZWFwaXMuY29tL21hcHMvYXBpL2pzPycgKyBwYXJhbXMuam9pbignJicpXG5cbiAgICAgIC8vIEluc2VydCB0aGUgYHNjcmlwdGAgdGFnXG4gICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHNjcmlwdEVsZW1lbnQpXG4gICAgfSlcbiAgfVxuXG4gIHJldHVybiBwcm9taXNlXG59XG4iLCJcbi8qKlxuICogV2hlbiBzb3VyY2UgbWFwcyBhcmUgZW5hYmxlZCwgYHN0eWxlLWxvYWRlcmAgdXNlcyBhIGxpbmsgZWxlbWVudCB3aXRoIGEgZGF0YS11cmkgdG9cbiAqIGVtYmVkIHRoZSBjc3Mgb24gdGhlIHBhZ2UuIFRoaXMgYnJlYWtzIGFsbCByZWxhdGl2ZSB1cmxzIGJlY2F1c2Ugbm93IHRoZXkgYXJlIHJlbGF0aXZlIHRvIGFcbiAqIGJ1bmRsZSBpbnN0ZWFkIG9mIHRoZSBjdXJyZW50IHBhZ2UuXG4gKlxuICogT25lIHNvbHV0aW9uIGlzIHRvIG9ubHkgdXNlIGZ1bGwgdXJscywgYnV0IHRoYXQgbWF5IGJlIGltcG9zc2libGUuXG4gKlxuICogSW5zdGVhZCwgdGhpcyBmdW5jdGlvbiBcImZpeGVzXCIgdGhlIHJlbGF0aXZlIHVybHMgdG8gYmUgYWJzb2x1dGUgYWNjb3JkaW5nIHRvIHRoZSBjdXJyZW50IHBhZ2UgbG9jYXRpb24uXG4gKlxuICogQSBydWRpbWVudGFyeSB0ZXN0IHN1aXRlIGlzIGxvY2F0ZWQgYXQgYHRlc3QvZml4VXJscy5qc2AgYW5kIGNhbiBiZSBydW4gdmlhIHRoZSBgbnBtIHRlc3RgIGNvbW1hbmQuXG4gKlxuICovXG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGNzcykge1xuICAvLyBnZXQgY3VycmVudCBsb2NhdGlvblxuICB2YXIgbG9jYXRpb24gPSB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiICYmIHdpbmRvdy5sb2NhdGlvbjtcblxuICBpZiAoIWxvY2F0aW9uKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiZml4VXJscyByZXF1aXJlcyB3aW5kb3cubG9jYXRpb25cIik7XG4gIH1cblxuXHQvLyBibGFuayBvciBudWxsP1xuXHRpZiAoIWNzcyB8fCB0eXBlb2YgY3NzICE9PSBcInN0cmluZ1wiKSB7XG5cdCAgcmV0dXJuIGNzcztcbiAgfVxuXG4gIHZhciBiYXNlVXJsID0gbG9jYXRpb24ucHJvdG9jb2wgKyBcIi8vXCIgKyBsb2NhdGlvbi5ob3N0O1xuICB2YXIgY3VycmVudERpciA9IGJhc2VVcmwgKyBsb2NhdGlvbi5wYXRobmFtZS5yZXBsYWNlKC9cXC9bXlxcL10qJC8sIFwiL1wiKTtcblxuXHQvLyBjb252ZXJ0IGVhY2ggdXJsKC4uLilcblx0Lypcblx0VGhpcyByZWd1bGFyIGV4cHJlc3Npb24gaXMganVzdCBhIHdheSB0byByZWN1cnNpdmVseSBtYXRjaCBicmFja2V0cyB3aXRoaW5cblx0YSBzdHJpbmcuXG5cblx0IC91cmxcXHMqXFwoICA9IE1hdGNoIG9uIHRoZSB3b3JkIFwidXJsXCIgd2l0aCBhbnkgd2hpdGVzcGFjZSBhZnRlciBpdCBhbmQgdGhlbiBhIHBhcmVuc1xuXHQgICAoICA9IFN0YXJ0IGEgY2FwdHVyaW5nIGdyb3VwXG5cdCAgICAgKD86ICA9IFN0YXJ0IGEgbm9uLWNhcHR1cmluZyBncm91cFxuXHQgICAgICAgICBbXikoXSAgPSBNYXRjaCBhbnl0aGluZyB0aGF0IGlzbid0IGEgcGFyZW50aGVzZXNcblx0ICAgICAgICAgfCAgPSBPUlxuXHQgICAgICAgICBcXCggID0gTWF0Y2ggYSBzdGFydCBwYXJlbnRoZXNlc1xuXHQgICAgICAgICAgICAgKD86ICA9IFN0YXJ0IGFub3RoZXIgbm9uLWNhcHR1cmluZyBncm91cHNcblx0ICAgICAgICAgICAgICAgICBbXikoXSsgID0gTWF0Y2ggYW55dGhpbmcgdGhhdCBpc24ndCBhIHBhcmVudGhlc2VzXG5cdCAgICAgICAgICAgICAgICAgfCAgPSBPUlxuXHQgICAgICAgICAgICAgICAgIFxcKCAgPSBNYXRjaCBhIHN0YXJ0IHBhcmVudGhlc2VzXG5cdCAgICAgICAgICAgICAgICAgICAgIFteKShdKiAgPSBNYXRjaCBhbnl0aGluZyB0aGF0IGlzbid0IGEgcGFyZW50aGVzZXNcblx0ICAgICAgICAgICAgICAgICBcXCkgID0gTWF0Y2ggYSBlbmQgcGFyZW50aGVzZXNcblx0ICAgICAgICAgICAgICkgID0gRW5kIEdyb3VwXG4gICAgICAgICAgICAgICpcXCkgPSBNYXRjaCBhbnl0aGluZyBhbmQgdGhlbiBhIGNsb3NlIHBhcmVuc1xuICAgICAgICAgICkgID0gQ2xvc2Ugbm9uLWNhcHR1cmluZyBncm91cFxuICAgICAgICAgICogID0gTWF0Y2ggYW55dGhpbmdcbiAgICAgICApICA9IENsb3NlIGNhcHR1cmluZyBncm91cFxuXHQgXFwpICA9IE1hdGNoIGEgY2xvc2UgcGFyZW5zXG5cblx0IC9naSAgPSBHZXQgYWxsIG1hdGNoZXMsIG5vdCB0aGUgZmlyc3QuICBCZSBjYXNlIGluc2Vuc2l0aXZlLlxuXHQgKi9cblx0dmFyIGZpeGVkQ3NzID0gY3NzLnJlcGxhY2UoL3VybFxccypcXCgoKD86W14pKF18XFwoKD86W14pKF0rfFxcKFteKShdKlxcKSkqXFwpKSopXFwpL2dpLCBmdW5jdGlvbihmdWxsTWF0Y2gsIG9yaWdVcmwpIHtcblx0XHQvLyBzdHJpcCBxdW90ZXMgKGlmIHRoZXkgZXhpc3QpXG5cdFx0dmFyIHVucXVvdGVkT3JpZ1VybCA9IG9yaWdVcmxcblx0XHRcdC50cmltKClcblx0XHRcdC5yZXBsYWNlKC9eXCIoLiopXCIkLywgZnVuY3Rpb24obywgJDEpeyByZXR1cm4gJDE7IH0pXG5cdFx0XHQucmVwbGFjZSgvXicoLiopJyQvLCBmdW5jdGlvbihvLCAkMSl7IHJldHVybiAkMTsgfSk7XG5cblx0XHQvLyBhbHJlYWR5IGEgZnVsbCB1cmw/IG5vIGNoYW5nZVxuXHRcdGlmICgvXigjfGRhdGE6fGh0dHA6XFwvXFwvfGh0dHBzOlxcL1xcL3xmaWxlOlxcL1xcL1xcL3xcXHMqJCkvaS50ZXN0KHVucXVvdGVkT3JpZ1VybCkpIHtcblx0XHQgIHJldHVybiBmdWxsTWF0Y2g7XG5cdFx0fVxuXG5cdFx0Ly8gY29udmVydCB0aGUgdXJsIHRvIGEgZnVsbCB1cmxcblx0XHR2YXIgbmV3VXJsO1xuXG5cdFx0aWYgKHVucXVvdGVkT3JpZ1VybC5pbmRleE9mKFwiLy9cIikgPT09IDApIHtcblx0XHQgIFx0Ly9UT0RPOiBzaG91bGQgd2UgYWRkIHByb3RvY29sP1xuXHRcdFx0bmV3VXJsID0gdW5xdW90ZWRPcmlnVXJsO1xuXHRcdH0gZWxzZSBpZiAodW5xdW90ZWRPcmlnVXJsLmluZGV4T2YoXCIvXCIpID09PSAwKSB7XG5cdFx0XHQvLyBwYXRoIHNob3VsZCBiZSByZWxhdGl2ZSB0byB0aGUgYmFzZSB1cmxcblx0XHRcdG5ld1VybCA9IGJhc2VVcmwgKyB1bnF1b3RlZE9yaWdVcmw7IC8vIGFscmVhZHkgc3RhcnRzIHdpdGggJy8nXG5cdFx0fSBlbHNlIHtcblx0XHRcdC8vIHBhdGggc2hvdWxkIGJlIHJlbGF0aXZlIHRvIGN1cnJlbnQgZGlyZWN0b3J5XG5cdFx0XHRuZXdVcmwgPSBjdXJyZW50RGlyICsgdW5xdW90ZWRPcmlnVXJsLnJlcGxhY2UoL15cXC5cXC8vLCBcIlwiKTsgLy8gU3RyaXAgbGVhZGluZyAnLi8nXG5cdFx0fVxuXG5cdFx0Ly8gc2VuZCBiYWNrIHRoZSBmaXhlZCB1cmwoLi4uKVxuXHRcdHJldHVybiBcInVybChcIiArIEpTT04uc3RyaW5naWZ5KG5ld1VybCkgKyBcIilcIjtcblx0fSk7XG5cblx0Ly8gc2VuZCBiYWNrIHRoZSBmaXhlZCBjc3Ncblx0cmV0dXJuIGZpeGVkQ3NzO1xufTtcbiIsIi8qXG5cdE1JVCBMaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwXG5cdEF1dGhvciBUb2JpYXMgS29wcGVycyBAc29rcmFcbiovXG5cbnZhciBzdHlsZXNJbkRvbSA9IHt9O1xuXG52YXJcdG1lbW9pemUgPSBmdW5jdGlvbiAoZm4pIHtcblx0dmFyIG1lbW87XG5cblx0cmV0dXJuIGZ1bmN0aW9uICgpIHtcblx0XHRpZiAodHlwZW9mIG1lbW8gPT09IFwidW5kZWZpbmVkXCIpIG1lbW8gPSBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXHRcdHJldHVybiBtZW1vO1xuXHR9O1xufTtcblxudmFyIGlzT2xkSUUgPSBtZW1vaXplKGZ1bmN0aW9uICgpIHtcblx0Ly8gVGVzdCBmb3IgSUUgPD0gOSBhcyBwcm9wb3NlZCBieSBCcm93c2VyaGFja3Ncblx0Ly8gQHNlZSBodHRwOi8vYnJvd3NlcmhhY2tzLmNvbS8jaGFjay1lNzFkODY5MmY2NTMzNDE3M2ZlZTcxNWMyMjJjYjgwNVxuXHQvLyBUZXN0cyBmb3IgZXhpc3RlbmNlIG9mIHN0YW5kYXJkIGdsb2JhbHMgaXMgdG8gYWxsb3cgc3R5bGUtbG9hZGVyXG5cdC8vIHRvIG9wZXJhdGUgY29ycmVjdGx5IGludG8gbm9uLXN0YW5kYXJkIGVudmlyb25tZW50c1xuXHQvLyBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS93ZWJwYWNrLWNvbnRyaWIvc3R5bGUtbG9hZGVyL2lzc3Vlcy8xNzdcblx0cmV0dXJuIHdpbmRvdyAmJiBkb2N1bWVudCAmJiBkb2N1bWVudC5hbGwgJiYgIXdpbmRvdy5hdG9iO1xufSk7XG5cbnZhciBnZXRUYXJnZXQgPSBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gIHJldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRhcmdldCk7XG59O1xuXG52YXIgZ2V0RWxlbWVudCA9IChmdW5jdGlvbiAoZm4pIHtcblx0dmFyIG1lbW8gPSB7fTtcblxuXHRyZXR1cm4gZnVuY3Rpb24odGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgLy8gSWYgcGFzc2luZyBmdW5jdGlvbiBpbiBvcHRpb25zLCB0aGVuIHVzZSBpdCBmb3IgcmVzb2x2ZSBcImhlYWRcIiBlbGVtZW50LlxuICAgICAgICAgICAgICAgIC8vIFVzZWZ1bCBmb3IgU2hhZG93IFJvb3Qgc3R5bGUgaS5lXG4gICAgICAgICAgICAgICAgLy8ge1xuICAgICAgICAgICAgICAgIC8vICAgaW5zZXJ0SW50bzogZnVuY3Rpb24gKCkgeyByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNmb29cIikuc2hhZG93Um9vdCB9XG4gICAgICAgICAgICAgICAgLy8gfVxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdGFyZ2V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGFyZ2V0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbWVtb1t0YXJnZXRdID09PSBcInVuZGVmaW5lZFwiKSB7XG5cdFx0XHR2YXIgc3R5bGVUYXJnZXQgPSBnZXRUYXJnZXQuY2FsbCh0aGlzLCB0YXJnZXQpO1xuXHRcdFx0Ly8gU3BlY2lhbCBjYXNlIHRvIHJldHVybiBoZWFkIG9mIGlmcmFtZSBpbnN0ZWFkIG9mIGlmcmFtZSBpdHNlbGZcblx0XHRcdGlmICh3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQgJiYgc3R5bGVUYXJnZXQgaW5zdGFuY2VvZiB3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQpIHtcblx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHQvLyBUaGlzIHdpbGwgdGhyb3cgYW4gZXhjZXB0aW9uIGlmIGFjY2VzcyB0byBpZnJhbWUgaXMgYmxvY2tlZFxuXHRcdFx0XHRcdC8vIGR1ZSB0byBjcm9zcy1vcmlnaW4gcmVzdHJpY3Rpb25zXG5cdFx0XHRcdFx0c3R5bGVUYXJnZXQgPSBzdHlsZVRhcmdldC5jb250ZW50RG9jdW1lbnQuaGVhZDtcblx0XHRcdFx0fSBjYXRjaChlKSB7XG5cdFx0XHRcdFx0c3R5bGVUYXJnZXQgPSBudWxsO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRtZW1vW3RhcmdldF0gPSBzdHlsZVRhcmdldDtcblx0XHR9XG5cdFx0cmV0dXJuIG1lbW9bdGFyZ2V0XVxuXHR9O1xufSkoKTtcblxudmFyIHNpbmdsZXRvbiA9IG51bGw7XG52YXJcdHNpbmdsZXRvbkNvdW50ZXIgPSAwO1xudmFyXHRzdHlsZXNJbnNlcnRlZEF0VG9wID0gW107XG5cbnZhclx0Zml4VXJscyA9IHJlcXVpcmUoXCIuL3VybHNcIik7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24obGlzdCwgb3B0aW9ucykge1xuXHRpZiAodHlwZW9mIERFQlVHICE9PSBcInVuZGVmaW5lZFwiICYmIERFQlVHKSB7XG5cdFx0aWYgKHR5cGVvZiBkb2N1bWVudCAhPT0gXCJvYmplY3RcIikgdGhyb3cgbmV3IEVycm9yKFwiVGhlIHN0eWxlLWxvYWRlciBjYW5ub3QgYmUgdXNlZCBpbiBhIG5vbi1icm93c2VyIGVudmlyb25tZW50XCIpO1xuXHR9XG5cblx0b3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cblx0b3B0aW9ucy5hdHRycyA9IHR5cGVvZiBvcHRpb25zLmF0dHJzID09PSBcIm9iamVjdFwiID8gb3B0aW9ucy5hdHRycyA6IHt9O1xuXG5cdC8vIEZvcmNlIHNpbmdsZS10YWcgc29sdXRpb24gb24gSUU2LTksIHdoaWNoIGhhcyBhIGhhcmQgbGltaXQgb24gdGhlICMgb2YgPHN0eWxlPlxuXHQvLyB0YWdzIGl0IHdpbGwgYWxsb3cgb24gYSBwYWdlXG5cdGlmICghb3B0aW9ucy5zaW5nbGV0b24gJiYgdHlwZW9mIG9wdGlvbnMuc2luZ2xldG9uICE9PSBcImJvb2xlYW5cIikgb3B0aW9ucy5zaW5nbGV0b24gPSBpc09sZElFKCk7XG5cblx0Ly8gQnkgZGVmYXVsdCwgYWRkIDxzdHlsZT4gdGFncyB0byB0aGUgPGhlYWQ+IGVsZW1lbnRcbiAgICAgICAgaWYgKCFvcHRpb25zLmluc2VydEludG8pIG9wdGlvbnMuaW5zZXJ0SW50byA9IFwiaGVhZFwiO1xuXG5cdC8vIEJ5IGRlZmF1bHQsIGFkZCA8c3R5bGU+IHRhZ3MgdG8gdGhlIGJvdHRvbSBvZiB0aGUgdGFyZ2V0XG5cdGlmICghb3B0aW9ucy5pbnNlcnRBdCkgb3B0aW9ucy5pbnNlcnRBdCA9IFwiYm90dG9tXCI7XG5cblx0dmFyIHN0eWxlcyA9IGxpc3RUb1N0eWxlcyhsaXN0LCBvcHRpb25zKTtcblxuXHRhZGRTdHlsZXNUb0RvbShzdHlsZXMsIG9wdGlvbnMpO1xuXG5cdHJldHVybiBmdW5jdGlvbiB1cGRhdGUgKG5ld0xpc3QpIHtcblx0XHR2YXIgbWF5UmVtb3ZlID0gW107XG5cblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IHN0eWxlcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0dmFyIGl0ZW0gPSBzdHlsZXNbaV07XG5cdFx0XHR2YXIgZG9tU3R5bGUgPSBzdHlsZXNJbkRvbVtpdGVtLmlkXTtcblxuXHRcdFx0ZG9tU3R5bGUucmVmcy0tO1xuXHRcdFx0bWF5UmVtb3ZlLnB1c2goZG9tU3R5bGUpO1xuXHRcdH1cblxuXHRcdGlmKG5ld0xpc3QpIHtcblx0XHRcdHZhciBuZXdTdHlsZXMgPSBsaXN0VG9TdHlsZXMobmV3TGlzdCwgb3B0aW9ucyk7XG5cdFx0XHRhZGRTdHlsZXNUb0RvbShuZXdTdHlsZXMsIG9wdGlvbnMpO1xuXHRcdH1cblxuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgbWF5UmVtb3ZlLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIgZG9tU3R5bGUgPSBtYXlSZW1vdmVbaV07XG5cblx0XHRcdGlmKGRvbVN0eWxlLnJlZnMgPT09IDApIHtcblx0XHRcdFx0Zm9yICh2YXIgaiA9IDA7IGogPCBkb21TdHlsZS5wYXJ0cy5sZW5ndGg7IGorKykgZG9tU3R5bGUucGFydHNbal0oKTtcblxuXHRcdFx0XHRkZWxldGUgc3R5bGVzSW5Eb21bZG9tU3R5bGUuaWRdO1xuXHRcdFx0fVxuXHRcdH1cblx0fTtcbn07XG5cbmZ1bmN0aW9uIGFkZFN0eWxlc1RvRG9tIChzdHlsZXMsIG9wdGlvbnMpIHtcblx0Zm9yICh2YXIgaSA9IDA7IGkgPCBzdHlsZXMubGVuZ3RoOyBpKyspIHtcblx0XHR2YXIgaXRlbSA9IHN0eWxlc1tpXTtcblx0XHR2YXIgZG9tU3R5bGUgPSBzdHlsZXNJbkRvbVtpdGVtLmlkXTtcblxuXHRcdGlmKGRvbVN0eWxlKSB7XG5cdFx0XHRkb21TdHlsZS5yZWZzKys7XG5cblx0XHRcdGZvcih2YXIgaiA9IDA7IGogPCBkb21TdHlsZS5wYXJ0cy5sZW5ndGg7IGorKykge1xuXHRcdFx0XHRkb21TdHlsZS5wYXJ0c1tqXShpdGVtLnBhcnRzW2pdKTtcblx0XHRcdH1cblxuXHRcdFx0Zm9yKDsgaiA8IGl0ZW0ucGFydHMubGVuZ3RoOyBqKyspIHtcblx0XHRcdFx0ZG9tU3R5bGUucGFydHMucHVzaChhZGRTdHlsZShpdGVtLnBhcnRzW2pdLCBvcHRpb25zKSk7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdHZhciBwYXJ0cyA9IFtdO1xuXG5cdFx0XHRmb3IodmFyIGogPSAwOyBqIDwgaXRlbS5wYXJ0cy5sZW5ndGg7IGorKykge1xuXHRcdFx0XHRwYXJ0cy5wdXNoKGFkZFN0eWxlKGl0ZW0ucGFydHNbal0sIG9wdGlvbnMpKTtcblx0XHRcdH1cblxuXHRcdFx0c3R5bGVzSW5Eb21baXRlbS5pZF0gPSB7aWQ6IGl0ZW0uaWQsIHJlZnM6IDEsIHBhcnRzOiBwYXJ0c307XG5cdFx0fVxuXHR9XG59XG5cbmZ1bmN0aW9uIGxpc3RUb1N0eWxlcyAobGlzdCwgb3B0aW9ucykge1xuXHR2YXIgc3R5bGVzID0gW107XG5cdHZhciBuZXdTdHlsZXMgPSB7fTtcblxuXHRmb3IgKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcblx0XHR2YXIgaXRlbSA9IGxpc3RbaV07XG5cdFx0dmFyIGlkID0gb3B0aW9ucy5iYXNlID8gaXRlbVswXSArIG9wdGlvbnMuYmFzZSA6IGl0ZW1bMF07XG5cdFx0dmFyIGNzcyA9IGl0ZW1bMV07XG5cdFx0dmFyIG1lZGlhID0gaXRlbVsyXTtcblx0XHR2YXIgc291cmNlTWFwID0gaXRlbVszXTtcblx0XHR2YXIgcGFydCA9IHtjc3M6IGNzcywgbWVkaWE6IG1lZGlhLCBzb3VyY2VNYXA6IHNvdXJjZU1hcH07XG5cblx0XHRpZighbmV3U3R5bGVzW2lkXSkgc3R5bGVzLnB1c2gobmV3U3R5bGVzW2lkXSA9IHtpZDogaWQsIHBhcnRzOiBbcGFydF19KTtcblx0XHRlbHNlIG5ld1N0eWxlc1tpZF0ucGFydHMucHVzaChwYXJ0KTtcblx0fVxuXG5cdHJldHVybiBzdHlsZXM7XG59XG5cbmZ1bmN0aW9uIGluc2VydFN0eWxlRWxlbWVudCAob3B0aW9ucywgc3R5bGUpIHtcblx0dmFyIHRhcmdldCA9IGdldEVsZW1lbnQob3B0aW9ucy5pbnNlcnRJbnRvKVxuXG5cdGlmICghdGFyZ2V0KSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKFwiQ291bGRuJ3QgZmluZCBhIHN0eWxlIHRhcmdldC4gVGhpcyBwcm9iYWJseSBtZWFucyB0aGF0IHRoZSB2YWx1ZSBmb3IgdGhlICdpbnNlcnRJbnRvJyBwYXJhbWV0ZXIgaXMgaW52YWxpZC5cIik7XG5cdH1cblxuXHR2YXIgbGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3AgPSBzdHlsZXNJbnNlcnRlZEF0VG9wW3N0eWxlc0luc2VydGVkQXRUb3AubGVuZ3RoIC0gMV07XG5cblx0aWYgKG9wdGlvbnMuaW5zZXJ0QXQgPT09IFwidG9wXCIpIHtcblx0XHRpZiAoIWxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wKSB7XG5cdFx0XHR0YXJnZXQuaW5zZXJ0QmVmb3JlKHN0eWxlLCB0YXJnZXQuZmlyc3RDaGlsZCk7XG5cdFx0fSBlbHNlIGlmIChsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcC5uZXh0U2libGluZykge1xuXHRcdFx0dGFyZ2V0Lmluc2VydEJlZm9yZShzdHlsZSwgbGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3AubmV4dFNpYmxpbmcpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0YXJnZXQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xuXHRcdH1cblx0XHRzdHlsZXNJbnNlcnRlZEF0VG9wLnB1c2goc3R5bGUpO1xuXHR9IGVsc2UgaWYgKG9wdGlvbnMuaW5zZXJ0QXQgPT09IFwiYm90dG9tXCIpIHtcblx0XHR0YXJnZXQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xuXHR9IGVsc2UgaWYgKHR5cGVvZiBvcHRpb25zLmluc2VydEF0ID09PSBcIm9iamVjdFwiICYmIG9wdGlvbnMuaW5zZXJ0QXQuYmVmb3JlKSB7XG5cdFx0dmFyIG5leHRTaWJsaW5nID0gZ2V0RWxlbWVudChvcHRpb25zLmluc2VydEludG8gKyBcIiBcIiArIG9wdGlvbnMuaW5zZXJ0QXQuYmVmb3JlKTtcblx0XHR0YXJnZXQuaW5zZXJ0QmVmb3JlKHN0eWxlLCBuZXh0U2libGluZyk7XG5cdH0gZWxzZSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKFwiW1N0eWxlIExvYWRlcl1cXG5cXG4gSW52YWxpZCB2YWx1ZSBmb3IgcGFyYW1ldGVyICdpbnNlcnRBdCcgKCdvcHRpb25zLmluc2VydEF0JykgZm91bmQuXFxuIE11c3QgYmUgJ3RvcCcsICdib3R0b20nLCBvciBPYmplY3QuXFxuIChodHRwczovL2dpdGh1Yi5jb20vd2VicGFjay1jb250cmliL3N0eWxlLWxvYWRlciNpbnNlcnRhdClcXG5cIik7XG5cdH1cbn1cblxuZnVuY3Rpb24gcmVtb3ZlU3R5bGVFbGVtZW50IChzdHlsZSkge1xuXHRpZiAoc3R5bGUucGFyZW50Tm9kZSA9PT0gbnVsbCkgcmV0dXJuIGZhbHNlO1xuXHRzdHlsZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHN0eWxlKTtcblxuXHR2YXIgaWR4ID0gc3R5bGVzSW5zZXJ0ZWRBdFRvcC5pbmRleE9mKHN0eWxlKTtcblx0aWYoaWR4ID49IDApIHtcblx0XHRzdHlsZXNJbnNlcnRlZEF0VG9wLnNwbGljZShpZHgsIDEpO1xuXHR9XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVN0eWxlRWxlbWVudCAob3B0aW9ucykge1xuXHR2YXIgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7XG5cblx0aWYob3B0aW9ucy5hdHRycy50eXBlID09PSB1bmRlZmluZWQpIHtcblx0XHRvcHRpb25zLmF0dHJzLnR5cGUgPSBcInRleHQvY3NzXCI7XG5cdH1cblxuXHRhZGRBdHRycyhzdHlsZSwgb3B0aW9ucy5hdHRycyk7XG5cdGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zLCBzdHlsZSk7XG5cblx0cmV0dXJuIHN0eWxlO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVMaW5rRWxlbWVudCAob3B0aW9ucykge1xuXHR2YXIgbGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaW5rXCIpO1xuXG5cdGlmKG9wdGlvbnMuYXR0cnMudHlwZSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0b3B0aW9ucy5hdHRycy50eXBlID0gXCJ0ZXh0L2Nzc1wiO1xuXHR9XG5cdG9wdGlvbnMuYXR0cnMucmVsID0gXCJzdHlsZXNoZWV0XCI7XG5cblx0YWRkQXR0cnMobGluaywgb3B0aW9ucy5hdHRycyk7XG5cdGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zLCBsaW5rKTtcblxuXHRyZXR1cm4gbGluaztcbn1cblxuZnVuY3Rpb24gYWRkQXR0cnMgKGVsLCBhdHRycykge1xuXHRPYmplY3Qua2V5cyhhdHRycykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG5cdFx0ZWwuc2V0QXR0cmlidXRlKGtleSwgYXR0cnNba2V5XSk7XG5cdH0pO1xufVxuXG5mdW5jdGlvbiBhZGRTdHlsZSAob2JqLCBvcHRpb25zKSB7XG5cdHZhciBzdHlsZSwgdXBkYXRlLCByZW1vdmUsIHJlc3VsdDtcblxuXHQvLyBJZiBhIHRyYW5zZm9ybSBmdW5jdGlvbiB3YXMgZGVmaW5lZCwgcnVuIGl0IG9uIHRoZSBjc3Ncblx0aWYgKG9wdGlvbnMudHJhbnNmb3JtICYmIG9iai5jc3MpIHtcblx0ICAgIHJlc3VsdCA9IG9wdGlvbnMudHJhbnNmb3JtKG9iai5jc3MpO1xuXG5cdCAgICBpZiAocmVzdWx0KSB7XG5cdCAgICBcdC8vIElmIHRyYW5zZm9ybSByZXR1cm5zIGEgdmFsdWUsIHVzZSB0aGF0IGluc3RlYWQgb2YgdGhlIG9yaWdpbmFsIGNzcy5cblx0ICAgIFx0Ly8gVGhpcyBhbGxvd3MgcnVubmluZyBydW50aW1lIHRyYW5zZm9ybWF0aW9ucyBvbiB0aGUgY3NzLlxuXHQgICAgXHRvYmouY3NzID0gcmVzdWx0O1xuXHQgICAgfSBlbHNlIHtcblx0ICAgIFx0Ly8gSWYgdGhlIHRyYW5zZm9ybSBmdW5jdGlvbiByZXR1cm5zIGEgZmFsc3kgdmFsdWUsIGRvbid0IGFkZCB0aGlzIGNzcy5cblx0ICAgIFx0Ly8gVGhpcyBhbGxvd3MgY29uZGl0aW9uYWwgbG9hZGluZyBvZiBjc3Ncblx0ICAgIFx0cmV0dXJuIGZ1bmN0aW9uKCkge1xuXHQgICAgXHRcdC8vIG5vb3Bcblx0ICAgIFx0fTtcblx0ICAgIH1cblx0fVxuXG5cdGlmIChvcHRpb25zLnNpbmdsZXRvbikge1xuXHRcdHZhciBzdHlsZUluZGV4ID0gc2luZ2xldG9uQ291bnRlcisrO1xuXG5cdFx0c3R5bGUgPSBzaW5nbGV0b24gfHwgKHNpbmdsZXRvbiA9IGNyZWF0ZVN0eWxlRWxlbWVudChvcHRpb25zKSk7XG5cblx0XHR1cGRhdGUgPSBhcHBseVRvU2luZ2xldG9uVGFnLmJpbmQobnVsbCwgc3R5bGUsIHN0eWxlSW5kZXgsIGZhbHNlKTtcblx0XHRyZW1vdmUgPSBhcHBseVRvU2luZ2xldG9uVGFnLmJpbmQobnVsbCwgc3R5bGUsIHN0eWxlSW5kZXgsIHRydWUpO1xuXG5cdH0gZWxzZSBpZiAoXG5cdFx0b2JqLnNvdXJjZU1hcCAmJlxuXHRcdHR5cGVvZiBVUkwgPT09IFwiZnVuY3Rpb25cIiAmJlxuXHRcdHR5cGVvZiBVUkwuY3JlYXRlT2JqZWN0VVJMID09PSBcImZ1bmN0aW9uXCIgJiZcblx0XHR0eXBlb2YgVVJMLnJldm9rZU9iamVjdFVSTCA9PT0gXCJmdW5jdGlvblwiICYmXG5cdFx0dHlwZW9mIEJsb2IgPT09IFwiZnVuY3Rpb25cIiAmJlxuXHRcdHR5cGVvZiBidG9hID09PSBcImZ1bmN0aW9uXCJcblx0KSB7XG5cdFx0c3R5bGUgPSBjcmVhdGVMaW5rRWxlbWVudChvcHRpb25zKTtcblx0XHR1cGRhdGUgPSB1cGRhdGVMaW5rLmJpbmQobnVsbCwgc3R5bGUsIG9wdGlvbnMpO1xuXHRcdHJlbW92ZSA9IGZ1bmN0aW9uICgpIHtcblx0XHRcdHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZSk7XG5cblx0XHRcdGlmKHN0eWxlLmhyZWYpIFVSTC5yZXZva2VPYmplY3RVUkwoc3R5bGUuaHJlZik7XG5cdFx0fTtcblx0fSBlbHNlIHtcblx0XHRzdHlsZSA9IGNyZWF0ZVN0eWxlRWxlbWVudChvcHRpb25zKTtcblx0XHR1cGRhdGUgPSBhcHBseVRvVGFnLmJpbmQobnVsbCwgc3R5bGUpO1xuXHRcdHJlbW92ZSA9IGZ1bmN0aW9uICgpIHtcblx0XHRcdHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZSk7XG5cdFx0fTtcblx0fVxuXG5cdHVwZGF0ZShvYmopO1xuXG5cdHJldHVybiBmdW5jdGlvbiB1cGRhdGVTdHlsZSAobmV3T2JqKSB7XG5cdFx0aWYgKG5ld09iaikge1xuXHRcdFx0aWYgKFxuXHRcdFx0XHRuZXdPYmouY3NzID09PSBvYmouY3NzICYmXG5cdFx0XHRcdG5ld09iai5tZWRpYSA9PT0gb2JqLm1lZGlhICYmXG5cdFx0XHRcdG5ld09iai5zb3VyY2VNYXAgPT09IG9iai5zb3VyY2VNYXBcblx0XHRcdCkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdHVwZGF0ZShvYmogPSBuZXdPYmopO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZW1vdmUoKTtcblx0XHR9XG5cdH07XG59XG5cbnZhciByZXBsYWNlVGV4dCA9IChmdW5jdGlvbiAoKSB7XG5cdHZhciB0ZXh0U3RvcmUgPSBbXTtcblxuXHRyZXR1cm4gZnVuY3Rpb24gKGluZGV4LCByZXBsYWNlbWVudCkge1xuXHRcdHRleHRTdG9yZVtpbmRleF0gPSByZXBsYWNlbWVudDtcblxuXHRcdHJldHVybiB0ZXh0U3RvcmUuZmlsdGVyKEJvb2xlYW4pLmpvaW4oJ1xcbicpO1xuXHR9O1xufSkoKTtcblxuZnVuY3Rpb24gYXBwbHlUb1NpbmdsZXRvblRhZyAoc3R5bGUsIGluZGV4LCByZW1vdmUsIG9iaikge1xuXHR2YXIgY3NzID0gcmVtb3ZlID8gXCJcIiA6IG9iai5jc3M7XG5cblx0aWYgKHN0eWxlLnN0eWxlU2hlZXQpIHtcblx0XHRzdHlsZS5zdHlsZVNoZWV0LmNzc1RleHQgPSByZXBsYWNlVGV4dChpbmRleCwgY3NzKTtcblx0fSBlbHNlIHtcblx0XHR2YXIgY3NzTm9kZSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcyk7XG5cdFx0dmFyIGNoaWxkTm9kZXMgPSBzdHlsZS5jaGlsZE5vZGVzO1xuXG5cdFx0aWYgKGNoaWxkTm9kZXNbaW5kZXhdKSBzdHlsZS5yZW1vdmVDaGlsZChjaGlsZE5vZGVzW2luZGV4XSk7XG5cblx0XHRpZiAoY2hpbGROb2Rlcy5sZW5ndGgpIHtcblx0XHRcdHN0eWxlLmluc2VydEJlZm9yZShjc3NOb2RlLCBjaGlsZE5vZGVzW2luZGV4XSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHN0eWxlLmFwcGVuZENoaWxkKGNzc05vZGUpO1xuXHRcdH1cblx0fVxufVxuXG5mdW5jdGlvbiBhcHBseVRvVGFnIChzdHlsZSwgb2JqKSB7XG5cdHZhciBjc3MgPSBvYmouY3NzO1xuXHR2YXIgbWVkaWEgPSBvYmoubWVkaWE7XG5cblx0aWYobWVkaWEpIHtcblx0XHRzdHlsZS5zZXRBdHRyaWJ1dGUoXCJtZWRpYVwiLCBtZWRpYSlcblx0fVxuXG5cdGlmKHN0eWxlLnN0eWxlU2hlZXQpIHtcblx0XHRzdHlsZS5zdHlsZVNoZWV0LmNzc1RleHQgPSBjc3M7XG5cdH0gZWxzZSB7XG5cdFx0d2hpbGUoc3R5bGUuZmlyc3RDaGlsZCkge1xuXHRcdFx0c3R5bGUucmVtb3ZlQ2hpbGQoc3R5bGUuZmlyc3RDaGlsZCk7XG5cdFx0fVxuXG5cdFx0c3R5bGUuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKSk7XG5cdH1cbn1cblxuZnVuY3Rpb24gdXBkYXRlTGluayAobGluaywgb3B0aW9ucywgb2JqKSB7XG5cdHZhciBjc3MgPSBvYmouY3NzO1xuXHR2YXIgc291cmNlTWFwID0gb2JqLnNvdXJjZU1hcDtcblxuXHQvKlxuXHRcdElmIGNvbnZlcnRUb0Fic29sdXRlVXJscyBpc24ndCBkZWZpbmVkLCBidXQgc291cmNlbWFwcyBhcmUgZW5hYmxlZFxuXHRcdGFuZCB0aGVyZSBpcyBubyBwdWJsaWNQYXRoIGRlZmluZWQgdGhlbiBsZXRzIHR1cm4gY29udmVydFRvQWJzb2x1dGVVcmxzXG5cdFx0b24gYnkgZGVmYXVsdC4gIE90aGVyd2lzZSBkZWZhdWx0IHRvIHRoZSBjb252ZXJ0VG9BYnNvbHV0ZVVybHMgb3B0aW9uXG5cdFx0ZGlyZWN0bHlcblx0Ki9cblx0dmFyIGF1dG9GaXhVcmxzID0gb3B0aW9ucy5jb252ZXJ0VG9BYnNvbHV0ZVVybHMgPT09IHVuZGVmaW5lZCAmJiBzb3VyY2VNYXA7XG5cblx0aWYgKG9wdGlvbnMuY29udmVydFRvQWJzb2x1dGVVcmxzIHx8IGF1dG9GaXhVcmxzKSB7XG5cdFx0Y3NzID0gZml4VXJscyhjc3MpO1xuXHR9XG5cblx0aWYgKHNvdXJjZU1hcCkge1xuXHRcdC8vIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzI2NjAzODc1XG5cdFx0Y3NzICs9IFwiXFxuLyojIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2Jhc2U2NCxcIiArIGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSkgKyBcIiAqL1wiO1xuXHR9XG5cblx0dmFyIGJsb2IgPSBuZXcgQmxvYihbY3NzXSwgeyB0eXBlOiBcInRleHQvY3NzXCIgfSk7XG5cblx0dmFyIG9sZFNyYyA9IGxpbmsuaHJlZjtcblxuXHRsaW5rLmhyZWYgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpO1xuXG5cdGlmKG9sZFNyYykgVVJMLnJldm9rZU9iamVjdFVSTChvbGRTcmMpO1xufVxuIiwiLypcblx0TUlUIExpY2Vuc2UgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHBcblx0QXV0aG9yIFRvYmlhcyBLb3BwZXJzIEBzb2tyYVxuKi9cbi8vIGNzcyBiYXNlIGNvZGUsIGluamVjdGVkIGJ5IHRoZSBjc3MtbG9hZGVyXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKHVzZVNvdXJjZU1hcCkge1xuXHR2YXIgbGlzdCA9IFtdO1xuXG5cdC8vIHJldHVybiB0aGUgbGlzdCBvZiBtb2R1bGVzIGFzIGNzcyBzdHJpbmdcblx0bGlzdC50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuXHRcdHJldHVybiB0aGlzLm1hcChmdW5jdGlvbiAoaXRlbSkge1xuXHRcdFx0dmFyIGNvbnRlbnQgPSBjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKGl0ZW0sIHVzZVNvdXJjZU1hcCk7XG5cdFx0XHRpZihpdGVtWzJdKSB7XG5cdFx0XHRcdHJldHVybiBcIkBtZWRpYSBcIiArIGl0ZW1bMl0gKyBcIntcIiArIGNvbnRlbnQgKyBcIn1cIjtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHJldHVybiBjb250ZW50O1xuXHRcdFx0fVxuXHRcdH0pLmpvaW4oXCJcIik7XG5cdH07XG5cblx0Ly8gaW1wb3J0IGEgbGlzdCBvZiBtb2R1bGVzIGludG8gdGhlIGxpc3Rcblx0bGlzdC5pID0gZnVuY3Rpb24obW9kdWxlcywgbWVkaWFRdWVyeSkge1xuXHRcdGlmKHR5cGVvZiBtb2R1bGVzID09PSBcInN0cmluZ1wiKVxuXHRcdFx0bW9kdWxlcyA9IFtbbnVsbCwgbW9kdWxlcywgXCJcIl1dO1xuXHRcdHZhciBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzID0ge307XG5cdFx0Zm9yKHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpKyspIHtcblx0XHRcdHZhciBpZCA9IHRoaXNbaV1bMF07XG5cdFx0XHRpZih0eXBlb2YgaWQgPT09IFwibnVtYmVyXCIpXG5cdFx0XHRcdGFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaWRdID0gdHJ1ZTtcblx0XHR9XG5cdFx0Zm9yKGkgPSAwOyBpIDwgbW9kdWxlcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0dmFyIGl0ZW0gPSBtb2R1bGVzW2ldO1xuXHRcdFx0Ly8gc2tpcCBhbHJlYWR5IGltcG9ydGVkIG1vZHVsZVxuXHRcdFx0Ly8gdGhpcyBpbXBsZW1lbnRhdGlvbiBpcyBub3QgMTAwJSBwZXJmZWN0IGZvciB3ZWlyZCBtZWRpYSBxdWVyeSBjb21iaW5hdGlvbnNcblx0XHRcdC8vICB3aGVuIGEgbW9kdWxlIGlzIGltcG9ydGVkIG11bHRpcGxlIHRpbWVzIHdpdGggZGlmZmVyZW50IG1lZGlhIHF1ZXJpZXMuXG5cdFx0XHQvLyAgSSBob3BlIHRoaXMgd2lsbCBuZXZlciBvY2N1ciAoSGV5IHRoaXMgd2F5IHdlIGhhdmUgc21hbGxlciBidW5kbGVzKVxuXHRcdFx0aWYodHlwZW9mIGl0ZW1bMF0gIT09IFwibnVtYmVyXCIgfHwgIWFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaXRlbVswXV0pIHtcblx0XHRcdFx0aWYobWVkaWFRdWVyeSAmJiAhaXRlbVsyXSkge1xuXHRcdFx0XHRcdGl0ZW1bMl0gPSBtZWRpYVF1ZXJ5O1xuXHRcdFx0XHR9IGVsc2UgaWYobWVkaWFRdWVyeSkge1xuXHRcdFx0XHRcdGl0ZW1bMl0gPSBcIihcIiArIGl0ZW1bMl0gKyBcIikgYW5kIChcIiArIG1lZGlhUXVlcnkgKyBcIilcIjtcblx0XHRcdFx0fVxuXHRcdFx0XHRsaXN0LnB1c2goaXRlbSk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9O1xuXHRyZXR1cm4gbGlzdDtcbn07XG5cbmZ1bmN0aW9uIGNzc1dpdGhNYXBwaW5nVG9TdHJpbmcoaXRlbSwgdXNlU291cmNlTWFwKSB7XG5cdHZhciBjb250ZW50ID0gaXRlbVsxXSB8fCAnJztcblx0dmFyIGNzc01hcHBpbmcgPSBpdGVtWzNdO1xuXHRpZiAoIWNzc01hcHBpbmcpIHtcblx0XHRyZXR1cm4gY29udGVudDtcblx0fVxuXG5cdGlmICh1c2VTb3VyY2VNYXAgJiYgdHlwZW9mIGJ0b2EgPT09ICdmdW5jdGlvbicpIHtcblx0XHR2YXIgc291cmNlTWFwcGluZyA9IHRvQ29tbWVudChjc3NNYXBwaW5nKTtcblx0XHR2YXIgc291cmNlVVJMcyA9IGNzc01hcHBpbmcuc291cmNlcy5tYXAoZnVuY3Rpb24gKHNvdXJjZSkge1xuXHRcdFx0cmV0dXJuICcvKiMgc291cmNlVVJMPScgKyBjc3NNYXBwaW5nLnNvdXJjZVJvb3QgKyBzb3VyY2UgKyAnICovJ1xuXHRcdH0pO1xuXG5cdFx0cmV0dXJuIFtjb250ZW50XS5jb25jYXQoc291cmNlVVJMcykuY29uY2F0KFtzb3VyY2VNYXBwaW5nXSkuam9pbignXFxuJyk7XG5cdH1cblxuXHRyZXR1cm4gW2NvbnRlbnRdLmpvaW4oJ1xcbicpO1xufVxuXG4vLyBBZGFwdGVkIGZyb20gY29udmVydC1zb3VyY2UtbWFwIChNSVQpXG5mdW5jdGlvbiB0b0NvbW1lbnQoc291cmNlTWFwKSB7XG5cdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxuXHR2YXIgYmFzZTY0ID0gYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoc291cmNlTWFwKSkpKTtcblx0dmFyIGRhdGEgPSAnc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtODtiYXNlNjQsJyArIGJhc2U2NDtcblxuXHRyZXR1cm4gJy8qIyAnICsgZGF0YSArICcgKi8nO1xufVxuIiwiZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIi4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2xpYi9jc3MtYmFzZS5qc1wiKShmYWxzZSk7XG4vLyBpbXBvcnRzXG5cblxuLy8gbW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCJAY2hhcnNldCBcXFwidXRmLThcXFwiO1xcclxcbi8qIENTUyBEb2N1bWVudCAqL1xcclxcblxcclxcbmJvZHksXFxyXFxudGQsXFxyXFxudGgsXFxyXFxucCB7XFxyXFxuICBmb250LWZhbWlseTogQXJpYWwsIEhlbHZldGljYSwgc2Fucy1zZXJpZjtcXHJcXG4gIGZvbnQtc2l6ZTogMTJweDtcXHJcXG4gIGNvbG9yOiBibGFjaztcXHJcXG4gIGxpbmUtaGVpZ2h0OiAxLjU7XFxyXFxufVxcclxcblxcclxcbmh0bWwge1xcclxcbiAgYm94LXNpemluZzogYm9yZGVyLWJveDtcXHJcXG59XFxyXFxuXFxyXFxuKixcXHJcXG4qOjpiZWZvcmUsXFxyXFxuKjo6YWZ0ZXIge1xcclxcbiAgYm94LXNpemluZzogaW5oZXJpdDtcXHJcXG59XFxyXFxuXFxyXFxuYm9keSB7XFxyXFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjNmM2YzO1xcclxcbiAgbWFyZ2luOiAwIGF1dG87XFxyXFxuICBtaW4taGVpZ2h0OiAxMDB2aDtcXHJcXG59XFxyXFxuXFxyXFxudWwsXFxyXFxubGkge1xcclxcbiAgZm9udC1mYW1pbHk6IEFyaWFsLCBIZWx2ZXRpY2EsIHNhbnMtc2VyaWY7XFxyXFxuICBmb250LXNpemU6IDFlbTtcXHJcXG4gIGNvbG9yOiAjMzMzO1xcclxcbn1cXHJcXG5cXHJcXG5hIHtcXHJcXG4gIGNvbG9yOiAjODExNDEwO1xcclxcbiAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xcclxcbn1cXHJcXG5cXHJcXG5hOmhvdmVyLFxcclxcbmE6Zm9jdXMge1xcclxcbiAgY29sb3I6ICM4MTE0MTA7XFxyXFxuICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XFxyXFxufVxcclxcblxcclxcbmEgaW1nIHtcXHJcXG4gIGJvcmRlcjogbm9uZSAwcHggI2ZmZjtcXHJcXG59XFxyXFxuXFxyXFxuaDEsXFxyXFxuaDIsXFxyXFxuaDMsXFxyXFxuaDQsXFxyXFxuaDUsXFxyXFxuaDYge1xcclxcbiAgZm9udC1mYW1pbHk6IEFyaWFsLCBIZWx2ZXRpY2EsIHNhbnMtc2VyaWY7XFxyXFxuICBtYXJnaW46IDAgMCAyMHB4O1xcclxcbn1cXHJcXG5cXHJcXG5hcnRpY2xlLFxcclxcbmFzaWRlLFxcclxcbmNhbnZhcyxcXHJcXG5kZXRhaWxzLFxcclxcbmZpZ2NhcHRpb24sXFxyXFxuZmlndXJlLFxcclxcbmZvb3RlcixcXHJcXG5oZWFkZXIsXFxyXFxuaGdyb3VwLFxcclxcbm1lbnUsXFxyXFxubmF2LFxcclxcbnNlY3Rpb24ge1xcclxcbiAgZGlzcGxheTogYmxvY2s7XFxyXFxufVxcclxcblxcclxcbmNhcHRpb24ge1xcbiAgZm9udC1zaXplOiAxLjdlbTtcXG4gIHRleHQtYWxpZ246IGxlZnQ7XFxuICBmb250LXdlaWdodDogNzAwO1xcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xcbn1cXHJcXG5cXHJcXG5zdHJvbmcge1xcclxcbiAgY29sb3I6IHdoaXRlO1xcclxcbn1cXHJcXG5cXHJcXG4jbWFpbmNvbnRlbnQge1xcclxcbiAgYmFja2dyb3VuZC1jb2xvcjogI2YzZjNmMztcXHJcXG4gIG1pbi1oZWlnaHQ6IDEwMHZoO1xcclxcbiAgd2lkdGg6IDEwMCU7XFxyXFxuICBkaXNwbGF5OiBmbGV4O1xcclxcbiAgZmxleC13cmFwOiB3cmFwO1xcclxcbiAgbWF4LXdpZHRoOiAxNDAwcHg7XFxyXFxuICBtYXJnaW46IDAgYXV0bztcXHJcXG59XFxyXFxuXFxyXFxuI2Zvb3RlciB7XFxyXFxuICBiYWNrZ3JvdW5kLWNvbG9yOiBibGFjaztcXHJcXG4gIGNvbG9yOiAjZmZmO1xcclxcbiAgZm9udC1zaXplOiA4cHQ7XFxyXFxuICBsZXR0ZXItc3BhY2luZzogMXB4O1xcclxcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xcclxcbiAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTtcXHJcXG4gIHBhZGRpbmctdG9wOiAyNXB4O1xcclxcbiAgcGFkZGluZy1ib3R0b206IDI1cHg7XFxyXFxufVxcclxcbi8qID09PT09PT09PT09PT09PT09PT09PT0gTmF2aWdhdGlvbiA9PT09PT09PT09PT09PT09PT09PT09ICovXFxyXFxubmF2IHtcXHJcXG4gIGRpc3BsYXk6IGJsb2NrO1xcclxcbiAgd2lkdGg6IDEwMCU7XFxyXFxuICBoZWlnaHQ6IDgwcHg7XFxyXFxuICBiYWNrZ3JvdW5kLWNvbG9yOiBibGFjaztcXHJcXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcXHJcXG59XFxyXFxuXFxyXFxubmF2IGgxIHtcXHJcXG4gIG1hcmdpbjogYXV0bztcXHJcXG59XFxyXFxuXFxyXFxubmF2IGgxIGEge1xcclxcbiAgY29sb3I6ICNmZmY7XFxyXFxuICBmb250LXNpemU6IDE2cHg7XFxyXFxuICBmb250LXdlaWdodDogMjAwO1xcclxcbiAgbGV0dGVyLXNwYWNpbmc6IDEwcHg7XFxyXFxuICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlO1xcclxcbn1cXHJcXG5cXHJcXG4jYnJlYWRjcnVtYiB7XFxyXFxuICBwYWRkaW5nOiAxMHB4IDQwcHggMTZweDtcXHJcXG4gIGxpc3Qtc3R5bGU6IG5vbmU7XFxyXFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO1xcclxcbiAgZm9udC1zaXplOiAxN3B4O1xcclxcbiAgbWFyZ2luOiAwO1xcclxcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xcclxcbn1cXHJcXG5cXHJcXG4vKiBEaXNwbGF5IGxpc3QgaXRlbXMgc2lkZSBieSBzaWRlICovXFxyXFxuI2JyZWFkY3J1bWIgbGkge1xcclxcbiAgZGlzcGxheTogaW5saW5lO1xcclxcbn1cXHJcXG5cXHJcXG4vKiBBZGQgYSBzbGFzaCBzeW1ib2wgKC8pIGJlZm9yZS9iZWhpbmQgZWFjaCBsaXN0IGl0ZW0gKi9cXHJcXG4jYnJlYWRjcnVtYiBsaSArIGxpOmJlZm9yZSB7XFxyXFxuICBwYWRkaW5nOiA4cHg7XFxyXFxuICBjb2xvcjogYmxhY2s7XFxyXFxuICBjb250ZW50OiBcXFwiL1xcXFxBMFxcXCI7XFxyXFxufVxcclxcblxcclxcbi8qIEFkZCBhIGNvbG9yIHRvIGFsbCBsaW5rcyBpbnNpZGUgdGhlIGxpc3QgKi9cXHJcXG4jYnJlYWRjcnVtYiBsaSBhIHtcXHJcXG4gIGNvbG9yOiAjMDI3NWQ4O1xcclxcbiAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xcclxcbn1cXHJcXG5cXHJcXG4vKiBBZGQgYSBjb2xvciBvbiBtb3VzZS1vdmVyICovXFxyXFxuI2JyZWFkY3J1bWIgbGkgYTpob3ZlciB7XFxyXFxuICBjb2xvcjogIzAxNDQ3ZTtcXHJcXG4gIHRleHQtZGVjb3JhdGlvbjogdW5kZXJsaW5lO1xcclxcbn1cXHJcXG5cXHJcXG4vKiA9PT09PT09PT09PT09PT09PT09PT09IE1hcCA9PT09PT09PT09PT09PT09PT09PT09ICovXFxyXFxuI21hcCB7XFxyXFxuICBoZWlnaHQ6IDUwdmg7XFxyXFxuICB3aWR0aDogMTAwJTtcXHJcXG4gIGJhY2tncm91bmQtY29sb3I6ICNjY2M7XFxyXFxufVxcclxcblxcclxcbi8qID09PT09PT09PT09PT09PT09PT09PT0gUmVzdGF1cmFudCBGaWx0ZXJpbmcgPT09PT09PT09PT09PT09PT09PT09PSAqL1xcclxcbi5maWx0ZXItb3B0aW9ucyB7XFxyXFxuICB3aWR0aDogMTAwJTtcXHJcXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxyXFxuICBwYWRkaW5nLXRvcDogMWVtO1xcclxcbiAgZGlzcGxheTogZmxleDtcXHJcXG4gIGZsZXgtd3JhcDogd3JhcDtcXHJcXG59XFxyXFxuXFxyXFxuLmZpbHRlci1vcHRpb25zIGgyIHtcXHJcXG4gIGNvbG9yOiBibGFjaztcXHJcXG4gIGZvbnQtc2l6ZTogMXJlbTtcXHJcXG4gIGZvbnQtd2VpZ2h0OiBub3JtYWw7XFxyXFxuICBsaW5lLWhlaWdodDogMTtcXHJcXG4gIG1hcmdpbjogNXB4IDEwcHg7XFxyXFxuICBmb250LXNpemU6IDJlbTtcXHJcXG4gIHdpZHRoOiAxMDAlO1xcclxcbn1cXHJcXG5cXHJcXG4uZmlsdGVyLW9wdGlvbnMgc2VsZWN0IHtcXHJcXG4gIGJhY2tncm91bmQtY29sb3I6IHdoaXRlO1xcclxcbiAgYm9yZGVyOiAxcHggc29saWQgI2ZmZjtcXHJcXG4gIGZvbnQtZmFtaWx5OiBBcmlhbCwgc2Fucy1zZXJpZjtcXHJcXG4gIGZvbnQtc2l6ZTogMS4xZW07XFxyXFxuICBoZWlnaHQ6IDM1cHg7XFxyXFxuICBsZXR0ZXItc3BhY2luZzogMDtcXHJcXG4gIG1hcmdpbjogMTBweDtcXHJcXG4gIHBhZGRpbmc6IDBweCAxMHB4O1xcclxcbiAgd2lkdGg6IGNhbGMoMTAwJSAtIDIwcHgpO1xcclxcbn1cXHJcXG5cXHJcXG4vKiA9PT09PT09PT09PT09PT09PT09PT09IFJlc3RhdXJhbnQgTGlzdGluZyA9PT09PT09PT09PT09PT09PT09PT09ICovXFxyXFxuI3Jlc3RhdXJhbnRzLWxpc3Qge1xcclxcbiAgYmFja2dyb3VuZC1jb2xvcjogI2YzZjNmMztcXHJcXG4gIGxpc3Qtc3R5bGU6IG91dHNpZGUgbm9uZSBub25lO1xcclxcbiAgbWFyZ2luOiAwO1xcclxcbiAgcGFkZGluZy1sZWZ0OiAwO1xcclxcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xcclxcbiAgd2lkdGg6IDEwMCU7XFxyXFxuICBkaXNwbGF5OiBmbGV4O1xcclxcbiAgZmxleC13cmFwOiB3cmFwO1xcclxcbn1cXHJcXG5cXHJcXG4jcmVzdGF1cmFudHMtbGlzdCBsaSB7XFxyXFxuICBkaXNwbGF5OiBmbGV4O1xcclxcbiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjtcXHJcXG4gIGJvcmRlcjogMnB4IHNvbGlkICNjY2M7XFxyXFxuICBmb250LWZhbWlseTogQXJpYWwsIHNhbnMtc2VyaWY7XFxyXFxuICBtaW4taGVpZ2h0OiAzODBweDtcXHJcXG4gIHRleHQtYWxpZ246IGxlZnQ7XFxyXFxuICB3aWR0aDogMTAwJTtcXHJcXG4gIG1hcmdpbjogMWVtO1xcclxcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcXHJcXG59XFxyXFxuXFxyXFxuI3Jlc3RhdXJhbnRzLWxpc3QgLnJlc3RhdXJhbnQtaW1nIHtcXHJcXG4gIGJhY2tncm91bmQtY29sb3I6ICNjY2M7XFxyXFxuICBkaXNwbGF5OiBibG9jaztcXHJcXG4gIG1hcmdpbjogMDtcXHJcXG4gIG1heC13aWR0aDogMTAwJTtcXHJcXG4gIG1pbi1oZWlnaHQ6IDI0OHB4O1xcclxcbiAgbWluLXdpZHRoOiAxMDAlO1xcclxcbn1cXHJcXG5cXHJcXG4jcmVzdGF1cmFudHMtbGlzdCBsaSBoMSB7XFxyXFxuICBjb2xvcjogIzgxMTQxMDtcXHJcXG4gIGZvbnQtZmFtaWx5OiBBcmlhbCwgc2Fucy1zZXJpZjtcXHJcXG4gIGZvbnQtc2l6ZTogMmVtO1xcclxcbiAgZm9udC13ZWlnaHQ6IDIwMDtcXHJcXG4gIGxldHRlci1zcGFjaW5nOiAwO1xcclxcbiAgbGluZS1oZWlnaHQ6IDEuMztcXHJcXG4gIG1hcmdpbjogMjBweCAwIDEwcHg7XFxyXFxuICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlO1xcclxcbiAgb3JkZXI6IDE7XFxyXFxufVxcclxcblxcclxcbiNyZXN0YXVyYW50cy1saXN0IHAge1xcclxcbiAgb3JkZXI6IDI7XFxyXFxuICBtYXJnaW46IDA7XFxyXFxuICBmb250LXNpemU6IDEuNWVtO1xcclxcbiAgY29sb3I6IGJsYWNrO1xcclxcbn1cXHJcXG5cXHJcXG4vKiA9PT09PT09PT09PT09PT09PT09PT09IFJlc3RhdXJhbnQgRGV0YWlscyA9PT09PT09PT09PT09PT09PT09PT09ICovXFxyXFxuLmluc2lkZSBoZWFkZXIge1xcclxcbiAgcG9zaXRpb246IGZpeGVkO1xcclxcbiAgdG9wOiAwO1xcclxcbiAgd2lkdGg6IDEwMCU7XFxyXFxuICB6LWluZGV4OiAxMDAwO1xcclxcbn1cXHJcXG5cXHJcXG4jbWFwLWNvbnRhaW5lciB7XFxyXFxuICBkaXNwbGF5OiBibG9jaztcXHJcXG4gIGJhY2tncm91bmQ6IGJsdWUgbm9uZSByZXBlYXQgc2Nyb2xsIDAgMDtcXHJcXG4gIG9yZGVyOiAwO1xcclxcbiAgbWF4LWhlaWdodDogNzB2aDtcXHJcXG4gIG92ZXJmbG93OiBoaWRkZW47XFxyXFxufVxcclxcblxcclxcbi5pbnNpZGUgI21hcC1jb250YWluZXIge1xcclxcbiAgbWFyZ2luLXRvcDogODBweDtcXHJcXG59XFxyXFxuXFxyXFxuLmluc2lkZSAjbWFwIHtcXHJcXG4gIGJhY2tncm91bmQtY29sb3I6ICNjY2M7XFxyXFxuICBoZWlnaHQ6IDQwMHB4O1xcclxcbiAgd2lkdGg6IDEwMCU7XFxyXFxufVxcclxcblxcclxcbi5pbnNpZGUgI2Zvb3RlciB7XFxyXFxuICB3aWR0aDogMTAwJTtcXHJcXG59XFxyXFxuXFxyXFxuI3Jlc3RhdXJhbnQtbmFtZSB7XFxyXFxuICBjb2xvcjogIzgxMTQxMDtcXHJcXG4gIGZvbnQtZmFtaWx5OiBBcmlhbCwgc2Fucy1zZXJpZjtcXHJcXG4gIGZvbnQtc2l6ZTogMi41ZW07XFxyXFxuICBmb250LXdlaWdodDogMjAwO1xcclxcbiAgbGV0dGVyLXNwYWNpbmc6IDJweDtcXHJcXG4gIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7XFxyXFxuICBsaW5lLWhlaWdodDogMS4xO1xcclxcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xcclxcbiAgbWFyZ2luLWJvdHRvbTogMTBweDtcXHJcXG4gIG1hcmdpbi10b3A6IDEwcHg7XFxyXFxuICB3aWR0aDogMTAwJTtcXHJcXG59XFxyXFxuXFxyXFxuI3Jlc3RhdXJhbnQtaW1nIHtcXHJcXG4gIHdpZHRoOiAxMDAlO1xcclxcbn1cXHJcXG5cXHJcXG4jcmVzdGF1cmFudC1hZGRyZXNzIHtcXHJcXG4gIGZvbnQtc2l6ZTogMS43ZW07XFxyXFxuICBtYXJnaW46IDFlbSAxZW07XFxyXFxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxyXFxufVxcclxcblxcclxcbiNyZXN0YXVyYW50LWN1aXNpbmUge1xcclxcbiAgYmFja2dyb3VuZC1jb2xvcjogYmxhY2s7XFxyXFxuICBjb2xvcjogI2RkZDtcXHJcXG4gIGZvbnQtc2l6ZTogMS41ZW07XFxyXFxuICBmb250LXdlaWdodDogMzAwO1xcclxcbiAgbGV0dGVyLXNwYWNpbmc6IDEwcHg7XFxyXFxuICBtYXJnaW46IDA7XFxyXFxuICBwYWRkaW5nOiAycHggMDtcXHJcXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcXHJcXG4gIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7XFxyXFxuICB3aWR0aDogMTAwJTtcXHJcXG59XFxyXFxuXFxyXFxuI3Jlc3RhdXJhbnQtY29udGFpbmVyIHtcXHJcXG4gIGRpc3BsYXk6IGZsZXg7XFxyXFxuICBmbGV4LXdyYXA6IHdyYXA7XFxyXFxufVxcclxcblxcclxcbiNyZXN0YXVyYW50LWNvbnRhaW5lcixcXHJcXG4jcmV2aWV3cy1jb250YWluZXIge1xcclxcbiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNkOWQ5ZDk7XFxyXFxuICBib3JkZXItdG9wOiAxcHggc29saWQgI2ZmZjtcXHJcXG4gIHdpZHRoOiAxMDAlO1xcclxcbiAgb3JkZXI6IDE7XFxyXFxufVxcclxcblxcclxcbi5yZXN0YXVyYW50LWluZm8tY29udGFpbmVyIHtcXHJcXG4gIHdpZHRoOiAxMDAlO1xcclxcbiAgYmFja2dyb3VuZC1jb2xvcjogIzMzMztcXHJcXG4gIG1heC1oZWlnaHQ6IDEwMCU7XFxyXFxufVxcclxcblxcclxcbi5yZXN0YXVyYW50LWhvdXJzLWNvbnRhaW5lciB7XFxyXFxuICB3aWR0aDogMTAwJTtcXHJcXG4gIG1heC1oZWlnaHQ6IDEwMCU7XFxyXFxufVxcclxcblxcclxcbiNyZXZpZXdzLWNvbnRhaW5lciB7XFxyXFxuICB3aWR0aDogMTAwJTtcXHJcXG59XFxyXFxuXFxyXFxuI3Jldmlld3MtY29udGFpbmVyIGgzIHtcXHJcXG4gIGNvbG9yOiAjODExNDEwO1xcclxcbiAgZm9udC1zaXplOiAyZW07XFxyXFxuICBmb250LXdlaWdodDogMzAwO1xcclxcbiAgbGV0dGVyLXNwYWNpbmc6IDJweDtcXHJcXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcXHJcXG4gIG1hcmdpbjogMTBweCAwcHg7XFxyXFxufVxcclxcblxcclxcbiNyZXZpZXdzLWxpc3Qge1xcclxcbiAgbWFyZ2luOiAwO1xcclxcbiAgcGFkZGluZy1sZWZ0OiAwO1xcclxcbiAgcGFkZGluZy1yaWdodDogMDtcXHJcXG59XFxyXFxuXFxyXFxuI3Jldmlld3MtbGlzdCBsaSB7XFxyXFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO1xcclxcbiAgYm9yZGVyOiAycHggc29saWQgI2YzZjNmMztcXHJcXG4gIGRpc3BsYXk6IGJsb2NrO1xcclxcbiAgbGlzdC1zdHlsZS10eXBlOiBub25lO1xcclxcbiAgd2lkdGg6IDEwMCU7XFxyXFxuICBwYWRkaW5nLXRvcDogMmVtO1xcclxcbiAgcGFkZGluZy1ib3R0b206IDJlbTtcXHJcXG4gIGNvbG9yOiBibGFjaztcXHJcXG59XFxyXFxuXFxyXFxuI3Jldmlld3MtbGlzdCBsaSBwIHtcXHJcXG4gIG1hcmdpbjogNXB4IDBweDtcXHJcXG4gIHBhZGRpbmctbGVmdDogMmVtO1xcclxcbiAgcGFkZGluZy1yaWdodDogMmVtO1xcclxcbiAgZm9udC1zaXplOiAxLjRlbTtcXHJcXG59XFxyXFxuXFxyXFxuI3Jlc3RhdXJhbnQtaG91cnMgdGQsXFxyXFxuI3Jlc3RhdXJhbnQtaG91cnMgdGgge1xcbiAgY29sb3I6ICM2NjY7XFxuICBmb250LXNpemU6IDEuNWVtO1xcbiAgdmVydGljYWwtYWxpZ246IHRleHQtdG9wO1xcbiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIGJsYWNrO1xcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xcbn1cXHJcXG5cXHJcXG4jcmVzdGF1cmFudC1ob3VycyB0aCB7XFxuICBjb2xvcjogYmxhY2s7XFxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxufVxcclxcblxcclxcbiNyZXN0YXVyYW50LWhvdXJzIHRyIHtcXHJcXG4gIHBhZGRpbmctdG9wOiA1cHg7XFxyXFxuICBwYWRkaW5nLWJvdHRvbTogNXB4O1xcclxcbn1cXHJcXG5cXHJcXG5oMS5sb2dvLWhlYWRlciB7XFxyXFxuICBwYWRkaW5nOiAxZW07XFxyXFxufVxcclxcblxcclxcbnVsI3Jlc3RhdXJhbnRzLWxpc3Qgc2VjdGlvbiB7XFxyXFxuICBwYWRkaW5nOiAxZW07XFxyXFxuICBkaXNwbGF5OiBmbGV4O1xcclxcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcXHJcXG4gIGFsaWduLWl0ZW1zOiBzdHJldGNoO1xcclxcbn1cXHJcXG5cXHJcXG50YWJsZSNyZXN0YXVyYW50LWhvdXJzIHtcXHJcXG4gIHdpZHRoOiA5MCU7XFxyXFxuICBib3JkZXItY29sbGFwc2U6IGNvbGxhcHNlO1xcclxcbiAgbWFyZ2luOiBhdXRvO1xcclxcbn1cXHJcXG5cXHJcXG5zZWN0aW9uI21hcC1jb250YWluZXIge1xcclxcbiAgd2lkdGg6IDEwMCU7XFxyXFxufVxcclxcblxcclxcbnNlY3Rpb24jcmV2aWV3LWNvbnRhaW5lciB7XFxyXFxuICB3aWR0aDogMTAwJTtcXHJcXG4gIGRpc3BsYXk6IGZsZXg7XFxyXFxuICBmbGV4LXdyYXA6IHdyYXA7XFxyXFxufVxcclxcblxcclxcbiNyZXN0YXVyYW50cy1saXN0IGJ1dHRvbiB7XFxyXFxuICBmbGV4LXNocmluazogMDtcXHJcXG4gIGhlaWdodDogM2VtO1xcclxcbiAgd2lkdGg6IDEwMCU7XFxyXFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjODExNDEwO1xcclxcbiAgb3JkZXI6IDA7XFxyXFxuICBjb2xvcjogI2ZmZjtcXHJcXG4gIGZvbnQtc2l6ZTogMS4yZW07XFxyXFxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxyXFxuICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlO1xcclxcbn1cXHJcXG5cXHJcXG4uZmlsdGVyLW9wdGlvbnMgZGl2IHtcXHJcXG4gIHdpZHRoOiAxMDAlO1xcclxcbn1cXHJcXG5cXHJcXG4uZmlsdGVyLW9wdGlvbnMgbGFiZWwge1xcclxcbiAgZGlzcGxheTogYmxvY2s7XFxyXFxuICB3aWR0aDogMTAwJTtcXHJcXG4gIHBhZGRpbmc6IDAgMTBweDtcXHJcXG4gIGZvbnQtc2l6ZTogMS40ZW07XFxyXFxuICBjb2xvcjogYmxhY2s7XFxyXFxufVxcclxcblxcclxcbmgyLmZpbHRlci1oZWFkZXIge1xcclxcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xcclxcbn1cXHJcXG5cXHJcXG4vKiBAbWVkaWEgc2NyZWVuIGFuZCAobWluLXdpZHRoOiAzMjBweCkge1xcclxcbn0gKi9cXHJcXG5cXHJcXG5AbWVkaWEgc2NyZWVuIGFuZCAobWluLXdpZHRoOiA3NjhweCkge1xcclxcbiAgLyogc3R5bGVzIGZvciBpbmRleC5odG1sICovXFxyXFxuICAjcmVzdGF1cmFudHMtbGlzdCBsaSB7XFxyXFxuICAgIHdpZHRoOiBjYWxjKDUwJSAtIDJlbSk7XFxyXFxuICB9XFxyXFxuICAvKiBzdHlsZXMgZm9yIHJlc3RhdXJhbnQuaHRtbCAqL1xcclxcbiAgLnJlc3RhdXJhbnQtaW5mby1jb250YWluZXIge1xcclxcbiAgICB3aWR0aDogY2FsYygxMDAlIC8gMyAqIDIpO1xcclxcbiAgICBib3JkZXI6IDFweCBzb2xpZCBibGFjaztcXHJcXG4gIH1cXHJcXG5cXHJcXG4gIC5yZXN0YXVyYW50LWhvdXJzLWNvbnRhaW5lciB7XFxyXFxuICAgIHdpZHRoOiBjYWxjKDEwMCUgLyAzKTtcXHJcXG4gICAgYm9yZGVyOiAxcHggc29saWQgYmxhY2s7XFxyXFxuICAgIGJhY2tncm91bmQtY29sb3I6IHdoaXRlO1xcclxcbiAgfVxcclxcblxcclxcbiAgI3Jlc3RhdXJhbnQtaG91cnMgdGQge1xcclxcbiAgICBmb250LXNpemU6IDEuMWVtO1xcclxcbiAgfVxcclxcblxcclxcbiAgLmZpbHRlci1vcHRpb25zIGRpdiB7XFxyXFxuICAgIHdpZHRoOiA1MCU7XFxyXFxuICB9XFxyXFxufVxcclxcblxcclxcbkBtZWRpYSBzY3JlZW4gYW5kIChtaW4td2lkdGg6IDEwMjRweCkge1xcclxcbiAgLyogc3R5bGVzIGZvciBpbmRleC5odG1sICovXFxyXFxuICAjcmVzdGF1cmFudHMtbGlzdCBsaSB7XFxyXFxuICAgIHdpZHRoOiBjYWxjKDEwMCUgLyA0IC0gMmVtKTtcXHJcXG4gIH1cXHJcXG5cXHJcXG4gIHNlY3Rpb24jbWFwLWNvbnRhaW5lciB7XFxyXFxuICAgIHdpZHRoOiAxMDAlO1xcclxcbiAgICBvcmRlcjogMDtcXHJcXG4gIH1cXHJcXG4gIHNlY3Rpb24jcmV2aWV3LWNvbnRhaW5lciB7XFxyXFxuICAgIG9yZGVyOiAyO1xcclxcbiAgfVxcclxcbiAgc2VjdGlvbi5maWx0ZXItb3B0aW9ucyB7XFxyXFxuICAgIHdpZHRoOiAxMDAlO1xcclxcbiAgICBvcmRlcjogMTtcXHJcXG4gIH1cXHJcXG5cXHJcXG4gIC5maWx0ZXItb3B0aW9ucyBsYWJlbCB7XFxyXFxuICAgIGZvbnQtc2l6ZTogMS43ZW07XFxyXFxuICB9XFxyXFxuXFxyXFxuICAuZmlsdGVyLW9wdGlvbnMgc2VsZWN0IHtcXHJcXG4gICAgZm9udC1zaXplOiAxLjNlbTtcXHJcXG4gIH1cXHJcXG5cXHJcXG4gICNyZXN0YXVyYW50cy1saXN0IHtcXHJcXG4gICAgd2lkdGg6IDEwMCU7XFxyXFxuICB9XFxyXFxuXFxyXFxuICAvKiBzdHlsZXMgZm9yIHJlc3RhdXJhbnQuaHRtbCAqL1xcclxcbiAgI3Jlc3RhdXJhbnQtYWRkcmVzcyB7XFxyXFxuICAgIGZvbnQtc2l6ZTogMi44ZW07XFxyXFxuICB9XFxyXFxuICAjcmVzdGF1cmFudC1ob3VycyB0ZCB7XFxyXFxuICAgIGZvbnQtc2l6ZTogMS41ZW07XFxyXFxuICB9XFxyXFxufVxcclxcblwiLCBcIlwiXSk7XG5cbi8vIGV4cG9ydHNcbiIsIlxudmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuL3N0eWxlcy5jc3NcIik7XG5cbmlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuXG52YXIgdHJhbnNmb3JtO1xudmFyIGluc2VydEludG87XG5cblxuXG52YXIgb3B0aW9ucyA9IHtcImhtclwiOnRydWV9XG5cbm9wdGlvbnMudHJhbnNmb3JtID0gdHJhbnNmb3JtXG5vcHRpb25zLmluc2VydEludG8gPSB1bmRlZmluZWQ7XG5cbnZhciB1cGRhdGUgPSByZXF1aXJlKFwiIS4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvbGliL2FkZFN0eWxlcy5qc1wiKShjb250ZW50LCBvcHRpb25zKTtcblxuaWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG5cbmlmKG1vZHVsZS5ob3QpIHtcblx0bW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vc3R5bGVzLmNzc1wiLCBmdW5jdGlvbigpIHtcblx0XHR2YXIgbmV3Q29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vc3R5bGVzLmNzc1wiKTtcblxuXHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXG5cdFx0dmFyIGxvY2FscyA9IChmdW5jdGlvbihhLCBiKSB7XG5cdFx0XHR2YXIga2V5LCBpZHggPSAwO1xuXG5cdFx0XHRmb3Ioa2V5IGluIGEpIHtcblx0XHRcdFx0aWYoIWIgfHwgYVtrZXldICE9PSBiW2tleV0pIHJldHVybiBmYWxzZTtcblx0XHRcdFx0aWR4Kys7XG5cdFx0XHR9XG5cblx0XHRcdGZvcihrZXkgaW4gYikgaWR4LS07XG5cblx0XHRcdHJldHVybiBpZHggPT09IDA7XG5cdFx0fShjb250ZW50LmxvY2FscywgbmV3Q29udGVudC5sb2NhbHMpKTtcblxuXHRcdGlmKCFsb2NhbHMpIHRocm93IG5ldyBFcnJvcignQWJvcnRpbmcgQ1NTIEhNUiBkdWUgdG8gY2hhbmdlZCBjc3MtbW9kdWxlcyBsb2NhbHMuJyk7XG5cblx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdH0pO1xuXG5cdG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xufSIsImltcG9ydCBEQkhlbHBlciBmcm9tICcuL2RiaGVscGVyJztcbmltcG9ydCBUcnlTZXJ2aWNlV29ya2VyIGZyb20gJy4vYWxsJztcbmltcG9ydCBsb2FkR29vZ2xlTWFwc0FwaSBmcm9tICdsb2FkLWdvb2dsZS1tYXBzLWFwaSc7XG5cbmxldCByZXN0YXVyYW50O1xudmFyIG1hcDtcblxuLyoqXG4gKiBDaGVjayBmb3IgU2VydmljZSBXb3JrZXIgaW4gYnJvd3NlclxuICovXG5cblRyeVNlcnZpY2VXb3JrZXIoKTtcblxuLyoqXG4gKiBJbml0aWFsaXplIEdvb2dsZSBtYXAsIGNhbGxlZCBmcm9tIEhUTUwuXG4gKi9cbndpbmRvdy5pbml0TWFwID0gKCkgPT4ge1xuXHRmZXRjaFJlc3RhdXJhbnRGcm9tVVJMKChlcnJvciwgcmVzdGF1cmFudCkgPT4ge1xuXHRcdGlmIChlcnJvcikge1xuXHRcdFx0Ly8gR290IGFuIGVycm9yIVxuXHRcdFx0Y29uc29sZS5lcnJvcihlcnJvcik7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHNlbGYubWFwID0gbmV3IGdvb2dsZS5tYXBzLk1hcChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWFwJyksIHtcblx0XHRcdFx0em9vbTogMTYsXG5cdFx0XHRcdGNlbnRlcjogcmVzdGF1cmFudC5sYXRsbmcsXG5cdFx0XHRcdHNjcm9sbHdoZWVsOiBmYWxzZVxuXHRcdFx0fSk7XG5cdFx0XHRmaWxsQnJlYWRjcnVtYigpO1xuXHRcdFx0REJIZWxwZXIubWFwTWFya2VyRm9yUmVzdGF1cmFudChzZWxmLnJlc3RhdXJhbnQsIHNlbGYubWFwKTtcblx0XHR9XG5cdH0pO1xufTtcblxuLyoqXG4gKiBHZXQgY3VycmVudCByZXN0YXVyYW50IGZyb20gcGFnZSBVUkwuXG4gKi9cbmZ1bmN0aW9uIGZldGNoUmVzdGF1cmFudEZyb21VUkwoY2FsbGJhY2spIHtcblx0aWYgKHNlbGYucmVzdGF1cmFudCkge1xuXHRcdC8vIHJlc3RhdXJhbnQgYWxyZWFkeSBmZXRjaGVkIVxuXHRcdGNhbGxiYWNrKG51bGwsIHNlbGYucmVzdGF1cmFudCk7XG5cdFx0cmV0dXJuO1xuXHR9XG5cdGNvbnN0IGlkID0gZ2V0UGFyYW1ldGVyQnlOYW1lKCdpZCcpO1xuXHRpZiAoIWlkKSB7XG5cdFx0Ly8gbm8gaWQgZm91bmQgaW4gVVJMXG5cdFx0ZXJyb3IgPSAnTm8gcmVzdGF1cmFudCBpZCBpbiBVUkwnO1xuXHRcdGNhbGxiYWNrKGVycm9yLCBudWxsKTtcblx0fSBlbHNlIHtcblx0XHREQkhlbHBlci5mZXRjaFJlc3RhdXJhbnRCeUlkKGlkLCAoZXJyb3IsIHJlc3RhdXJhbnQpID0+IHtcblx0XHRcdHNlbGYucmVzdGF1cmFudCA9IHJlc3RhdXJhbnQ7XG5cdFx0XHRpZiAoIXJlc3RhdXJhbnQpIHtcblx0XHRcdFx0Y29uc29sZS5lcnJvcihlcnJvcik7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblx0XHRcdGZpbGxSZXN0YXVyYW50SFRNTCgpO1xuXHRcdFx0Y2FsbGJhY2sobnVsbCwgcmVzdGF1cmFudCk7XG5cdFx0fSk7XG5cdH1cbn1cblxuLyoqXG4gKiBDcmVhdGUgcmVzdGF1cmFudCBIVE1MIGFuZCBhZGQgaXQgdG8gdGhlIHdlYnBhZ2VcbiAqL1xuZnVuY3Rpb24gZmlsbFJlc3RhdXJhbnRIVE1MKHJlc3RhdXJhbnQgPSBzZWxmLnJlc3RhdXJhbnQpIHtcblx0Y29uc3QgbmFtZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZXN0YXVyYW50LW5hbWUnKTtcblx0bmFtZS5pbm5lckhUTUwgPSByZXN0YXVyYW50Lm5hbWU7XG5cblx0Y29uc3QgYWRkcmVzcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZXN0YXVyYW50LWFkZHJlc3MnKTtcblx0YWRkcmVzcy5pbm5lckhUTUwgPSByZXN0YXVyYW50LmFkZHJlc3M7XG5cblx0Y29uc3QgaW1hZ2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVzdGF1cmFudC1pbWcnKTtcblx0aW1hZ2UuY2xhc3NOYW1lID0gJ3Jlc3RhdXJhbnQtaW1nJztcblx0aW1hZ2Uuc2V0QXR0cmlidXRlKCdhbHQnLCByZXN0YXVyYW50Lm5hbWUpO1xuXHRpbWFnZS5zcmMgPSBEQkhlbHBlci5pbWFnZVVybEZvclJlc3RhdXJhbnQocmVzdGF1cmFudCk7XG5cblx0Y29uc3QgY3Vpc2luZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZXN0YXVyYW50LWN1aXNpbmUnKTtcblx0Y3Vpc2luZS5pbm5lckhUTUwgPSByZXN0YXVyYW50LmN1aXNpbmVfdHlwZTtcblxuXHQvLyBmaWxsIG9wZXJhdGluZyBob3Vyc1xuXHRpZiAocmVzdGF1cmFudC5vcGVyYXRpbmdfaG91cnMpIHtcblx0XHRmaWxsUmVzdGF1cmFudEhvdXJzSFRNTCgpO1xuXHR9XG5cdC8vIGZpbGwgcmV2aWV3c1xuXHRmaWxsUmV2aWV3c0hUTUwoKTtcbn1cblxuLyoqXG4gKiBDcmVhdGUgcmVzdGF1cmFudCBvcGVyYXRpbmcgaG91cnMgSFRNTCB0YWJsZSBhbmQgYWRkIGl0IHRvIHRoZSB3ZWJwYWdlLlxuICovXG5mdW5jdGlvbiBmaWxsUmVzdGF1cmFudEhvdXJzSFRNTChcblx0b3BlcmF0aW5nSG91cnMgPSBzZWxmLnJlc3RhdXJhbnQub3BlcmF0aW5nX2hvdXJzXG4pIHtcblx0Y29uc3QgaG91cnMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVzdGF1cmFudC1ob3VycycpO1xuXHRmb3IgKGxldCBrZXkgaW4gb3BlcmF0aW5nSG91cnMpIHtcblx0XHRjb25zdCByb3cgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0cicpO1xuXHRcdGNvbnN0IGRheSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RkJyk7XG5cdFx0ZGF5LmlubmVySFRNTCA9IGtleTtcblx0XHRyb3cuYXBwZW5kQ2hpbGQoZGF5KTtcblxuXHRcdGNvbnN0IHRpbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZCcpO1xuXHRcdGxldCBvcEhvdXJzID0gb3BlcmF0aW5nSG91cnNba2V5XTtcblx0XHRvcEhvdXJzID0gb3BIb3Vycy5yZXBsYWNlKCcsJywgJywgXFxuIDxiciAvPiBcXG4nKTtcblx0XHR0aW1lLmlubmVySFRNTCA9IG9wSG91cnM7XG5cdFx0cm93LmFwcGVuZENoaWxkKHRpbWUpO1xuXG5cdFx0aG91cnMuYXBwZW5kQ2hpbGQocm93KTtcblx0fVxufVxuXG4vKipcbiAqIENyZWF0ZSBhbGwgcmV2aWV3cyBIVE1MIGFuZCBhZGQgdGhlbSB0byB0aGUgd2VicGFnZS5cbiAqL1xuZnVuY3Rpb24gZmlsbFJldmlld3NIVE1MKHJldmlld3MgPSBzZWxmLnJlc3RhdXJhbnQucmV2aWV3cykge1xuXHRjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmV2aWV3cy1jb250YWluZXInKTtcblx0Y29uc3QgdGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdoMycpO1xuXHR0aXRsZS5pbm5lckhUTUwgPSAnUmV2aWV3cyc7XG5cdGNvbnRhaW5lci5hcHBlbmRDaGlsZCh0aXRsZSk7XG5cblx0aWYgKCFyZXZpZXdzKSB7XG5cdFx0Y29uc3Qgbm9SZXZpZXdzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xuXHRcdG5vUmV2aWV3cy5pbm5lckhUTUwgPSAnTm8gcmV2aWV3cyB5ZXQhJztcblx0XHRjb250YWluZXIuYXBwZW5kQ2hpbGQobm9SZXZpZXdzKTtcblx0XHRyZXR1cm47XG5cdH1cblx0Y29uc3QgdWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmV2aWV3cy1saXN0Jyk7XG5cdHJldmlld3MuZm9yRWFjaChyZXZpZXcgPT4ge1xuXHRcdHVsLmFwcGVuZENoaWxkKGNyZWF0ZVJldmlld0hUTUwocmV2aWV3KSk7XG5cdH0pO1xuXHRjb250YWluZXIuYXBwZW5kQ2hpbGQodWwpO1xufVxuXG4vKipcbiAqIENyZWF0ZSByZXZpZXcgSFRNTCBhbmQgYWRkIGl0IHRvIHRoZSB3ZWJwYWdlLlxuICovXG5mdW5jdGlvbiBjcmVhdGVSZXZpZXdIVE1MKHJldmlldykge1xuXHRjb25zdCBsaSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7XG5cdGNvbnN0IG5hbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XG5cdG5hbWUuaW5uZXJIVE1MID0gcmV2aWV3Lm5hbWU7XG5cdGxpLmFwcGVuZENoaWxkKG5hbWUpO1xuXG5cdGNvbnN0IGRhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XG5cdGRhdGUuaW5uZXJIVE1MID0gcmV2aWV3LmRhdGU7XG5cdGxpLmFwcGVuZENoaWxkKGRhdGUpO1xuXG5cdGNvbnN0IHJhdGluZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcblx0cmF0aW5nLmlubmVySFRNTCA9IGBSYXRpbmc6ICR7cmV2aWV3LnJhdGluZ31gO1xuXHRsaS5hcHBlbmRDaGlsZChyYXRpbmcpO1xuXG5cdGNvbnN0IGNvbW1lbnRzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xuXHRjb21tZW50cy5pbm5lckhUTUwgPSByZXZpZXcuY29tbWVudHM7XG5cdGxpLmFwcGVuZENoaWxkKGNvbW1lbnRzKTtcblxuXHRyZXR1cm4gbGk7XG59XG5cbi8qKlxuICogQWRkIHJlc3RhdXJhbnQgbmFtZSB0byB0aGUgYnJlYWRjcnVtYiBuYXZpZ2F0aW9uIG1lbnVcbiAqL1xuZnVuY3Rpb24gZmlsbEJyZWFkY3J1bWIocmVzdGF1cmFudCA9IHNlbGYucmVzdGF1cmFudCkge1xuXHRjb25zdCBicmVhZGNydW1iID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2JyZWFkY3J1bWInKTtcblx0Y29uc3QgbGkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpO1xuXHRsaS5zZXRBdHRyaWJ1dGUoJ2FyaWEtY3VycmVudCcsICdwYWdlJyk7XG5cdGxpLmlubmVySFRNTCA9IHJlc3RhdXJhbnQubmFtZTtcblx0YnJlYWRjcnVtYi5hcHBlbmRDaGlsZChsaSk7XG59XG5cbi8qKlxuICogR2V0IGEgcGFyYW1ldGVyIGJ5IG5hbWUgZnJvbSBwYWdlIFVSTC5cbiAqL1xuZnVuY3Rpb24gZ2V0UGFyYW1ldGVyQnlOYW1lKG5hbWUsIHVybCkge1xuXHRpZiAoIXVybCkgdXJsID0gd2luZG93LmxvY2F0aW9uLmhyZWY7XG5cdG5hbWUgPSBuYW1lLnJlcGxhY2UoL1tcXFtcXF1dL2csICdcXFxcJCYnKTtcblx0Y29uc3QgcmVnZXggPSBuZXcgUmVnRXhwKGBbPyZdJHtuYW1lfSg9KFteJiNdKil8JnwjfCQpYCksXG5cdFx0cmVzdWx0cyA9IHJlZ2V4LmV4ZWModXJsKTtcblx0aWYgKCFyZXN1bHRzKSByZXR1cm4gbnVsbDtcblx0aWYgKCFyZXN1bHRzWzJdKSByZXR1cm4gJyc7XG5cdHJldHVybiBkZWNvZGVVUklDb21wb25lbnQocmVzdWx0c1syXS5yZXBsYWNlKC9cXCsvZywgJyAnKSk7XG59XG5cbi8qKlxuICogR2V0IHRoZSBnb29nbGUgbWFwcyBBUEkgc3RvcmVkIGluIGEgcHJvbWlzZVxuICpcbiAqL1xubG9hZEdvb2dsZU1hcHNBcGkoeyBrZXk6ICdBSXphU3lERUhUTHFRbGJJYzQtb2RjMkRuTWlFRjJ1RjNhckJ6NHMnIH0pLnRoZW4oXG5cdCgpID0+IHtcblx0XHR3aW5kb3cuaW5pdE1hcCgpO1xuXHR9XG4pO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==